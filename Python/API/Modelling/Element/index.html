
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Decorators/">
      
      
        <link rel="next" href="../Model/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>Element - StateForward</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stateforward.model.element.ElementType" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="StateForward" class="md-header__button md-logo" aria-label="StateForward" data-md-component="logo">
      
  <img src="../../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            StateForward
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Element
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="StateForward" class="md-nav__button md-logo" aria-label="StateForward" data-md-component="logo">
      
  <img src="../../../../assets/logo.png" alt="logo">

    </a>
    StateForward
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Roadmap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Roadmap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3_1" >
        
          
          <label class="md-nav__link" for="__nav_2_3_1" id="__nav_2_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1">
            <span class="md-nav__icon md-icon"></span>
            Core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Core/Decorators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decorators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Core/Elements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Elements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Core/Functional/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functional
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Modelling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3_2">
            <span class="md-nav__icon md-icon"></span>
            Modelling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Association/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Association
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Collection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Decorators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decorators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Element
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Element
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.ElementType" class="md-nav__link">
    ElementType
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.Element" class="md-nav__link">
    Element
  </a>
  
    <nav class="md-nav" aria-label="Element">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stateforward.model.element.Element.__create__" class="md-nav__link">
    __create__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.model.element.Element.__create_owned_elements__" class="md-nav__link">
    __create_owned_elements__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.model.element.Element.__define__" class="md-nav__link">
    __define__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.model.element.Element.__init_subclass__" class="md-nav__link">
    __init_subclass__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.model.element.Element.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.model.element.Element.__redefine__" class="md-nav__link">
    __redefine__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.id_of" class="md-nav__link">
    id_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.type_of" class="md-nav__link">
    type_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.owned_elements_of" class="md-nav__link">
    owned_elements_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.descendants_of" class="md-nav__link">
    descendants_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_descendant_of" class="md-nav__link">
    is_descendant_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.ancestors_of" class="md-nav__link">
    ancestors_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_ancestor_of" class="md-nav__link">
    is_ancestor_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.set_model" class="md-nav__link">
    set_model()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.set_owner" class="md-nav__link">
    set_owner()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.add_owned_element_to" class="md-nav__link">
    add_owned_element_to()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.remove_owned_element_from" class="md-nav__link">
    remove_owned_element_from()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.add_association_to" class="md-nav__link">
    add_association_to()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.remove_association_from" class="md-nav__link">
    remove_association_from()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.associations_of" class="md-nav__link">
    associations_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.associations_for" class="md-nav__link">
    associations_for()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.name_of" class="md-nav__link">
    name_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.attributes_of" class="md-nav__link">
    attributes_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.qualified_name_of" class="md-nav__link">
    qualified_name_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_type" class="md-nav__link">
    is_type()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_subtype" class="md-nav__link">
    is_subtype()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_element" class="md-nav__link">
    is_element()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.owner_of" class="md-nav__link">
    owner_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.redefined_element_of" class="md-nav__link">
    redefined_element_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_owner_of" class="md-nav__link">
    is_owner_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.specialize" class="md-nav__link">
    specialize()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_redefined" class="md-nav__link">
    is_redefined()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.redefine" class="md-nav__link">
    redefine()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.find_owned_elements_of" class="md-nav__link">
    find_owned_elements_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.find_owned_element_of" class="md-nav__link">
    find_owned_element_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.find_ancestors_of" class="md-nav__link">
    find_ancestors_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.find_ancestor_of" class="md-nav__link">
    find_ancestor_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.find_descendants_of" class="md-nav__link">
    find_descendants_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.set_attribute" class="md-nav__link">
    set_attribute()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.new" class="md-nav__link">
    new()
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Preprocessor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preprocessor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Validator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Visitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visitor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3_3" id="__nav_2_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Protocols
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            Protocols
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Protocols/Clock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Protocols/Future/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Future
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Protocols/Interpreter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interpreter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Protocols/Logger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logger
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Protocols/Queue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Queue
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3_4" >
        
          
          <label class="md-nav__link" for="__nav_2_3_4" id="__nav_2_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    StateMachine
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_4">
            <span class="md-nav__icon md-icon"></span>
            StateMachine
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../StateMachine/Clock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../StateMachine/Elements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Elements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../StateMachine/Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../StateMachine/Preprocessor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preprocessor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3_4_5" >
        
          
          <label class="md-nav__link" for="__nav_2_3_4_5" id="__nav_2_3_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interpreters
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_4_5">
            <span class="md-nav__icon md-icon"></span>
            Interpreters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../StateMachine/Interpreters/Async%20Behavior%20Interpreter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Async Behavior Interpreter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../StateMachine/Interpreters/Async%20Interpreter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Async Interpreter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../StateMachine/Interpreters/Async%20StateMachine%20Interpreter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Async StateMachine Interpreter
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Examples/Complete%20StateMachine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Complete StateMachine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Examples/LightSwitch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LightSwitch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Examples/Microwave/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Microwave
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Examples/TrafficLight/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TrafficLight
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.ElementType" class="md-nav__link">
    ElementType
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.Element" class="md-nav__link">
    Element
  </a>
  
    <nav class="md-nav" aria-label="Element">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stateforward.model.element.Element.__create__" class="md-nav__link">
    __create__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.model.element.Element.__create_owned_elements__" class="md-nav__link">
    __create_owned_elements__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.model.element.Element.__define__" class="md-nav__link">
    __define__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.model.element.Element.__init_subclass__" class="md-nav__link">
    __init_subclass__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.model.element.Element.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.model.element.Element.__redefine__" class="md-nav__link">
    __redefine__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.id_of" class="md-nav__link">
    id_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.type_of" class="md-nav__link">
    type_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.owned_elements_of" class="md-nav__link">
    owned_elements_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.descendants_of" class="md-nav__link">
    descendants_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_descendant_of" class="md-nav__link">
    is_descendant_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.ancestors_of" class="md-nav__link">
    ancestors_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_ancestor_of" class="md-nav__link">
    is_ancestor_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.set_model" class="md-nav__link">
    set_model()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.set_owner" class="md-nav__link">
    set_owner()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.add_owned_element_to" class="md-nav__link">
    add_owned_element_to()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.remove_owned_element_from" class="md-nav__link">
    remove_owned_element_from()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.add_association_to" class="md-nav__link">
    add_association_to()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.remove_association_from" class="md-nav__link">
    remove_association_from()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.associations_of" class="md-nav__link">
    associations_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.associations_for" class="md-nav__link">
    associations_for()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.name_of" class="md-nav__link">
    name_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.attributes_of" class="md-nav__link">
    attributes_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.qualified_name_of" class="md-nav__link">
    qualified_name_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_type" class="md-nav__link">
    is_type()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_subtype" class="md-nav__link">
    is_subtype()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_element" class="md-nav__link">
    is_element()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.owner_of" class="md-nav__link">
    owner_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.redefined_element_of" class="md-nav__link">
    redefined_element_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_owner_of" class="md-nav__link">
    is_owner_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.specialize" class="md-nav__link">
    specialize()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.is_redefined" class="md-nav__link">
    is_redefined()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.redefine" class="md-nav__link">
    redefine()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.find_owned_elements_of" class="md-nav__link">
    find_owned_elements_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.find_owned_element_of" class="md-nav__link">
    find_owned_element_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.find_ancestors_of" class="md-nav__link">
    find_ancestors_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.find_ancestor_of" class="md-nav__link">
    find_ancestor_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.find_descendants_of" class="md-nav__link">
    find_descendants_of()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.set_attribute" class="md-nav__link">
    set_attribute()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stateforward.model.element.new" class="md-nav__link">
    new()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Element</h1>

<div class="doc doc-object doc-module">




  <div class="doc doc-contents first">
  
      <p>The <code>element</code> module presented here provides a comprehensive framework for representing and manipulating a hierarchy of elements, designed to facilitate the creation and management of complex data models within a software application. It includes a rich set of functions to handle relationships and properties among elements, such as ownership and association management, type checking, element searching, and more. The module also defines an <code>Element</code> class, which serves as the base class for all elements within the hierarchy, and it is used to instantiate and define new elements with unique identities, owned elements, and various other attributes.</p>
<p>Key Functionalities:</p>
<ul>
<li><strong>Identities and Types</strong>: Utilize <code>id_of</code> and <code>type_of</code> to acquire the unique identifier and type of an element, respectively.</li>
<li><strong>Ownership Management</strong>: Employ functions like <code>owned_elements_of</code>, <code>add_owned_element_to</code>, <code>remove_owned_element_from</code> to manage which elements are owned by others.</li>
<li><strong>Hierarchy Navigation</strong>: Use <code>ancestors_of</code>, <code>descendants_of</code>, <code>is_ancestor_of</code>, <code>is_descendant_of</code> to traverse and verify relationships in the hierarchy.</li>
<li><strong>Associations Management</strong>: Leverage <code>add_association_to</code>, <code>remove_association_from</code>, <code>associations_of</code> to manage named associations between elements.</li>
<li><strong>Search and Filter</strong>: Functions like <code>find_owned_elements_of</code>, <code>find_ancestors_of</code>, <code>find_descendants_of</code> to find elements based on specified conditions.</li>
<li><strong>Redefinition and Specialization</strong>: The <code>redefine</code> and <code>specialize</code> functions are provided to create specialized or redefined versions of existing elements.</li>
<li><strong>Attribute Handling</strong>: <code>set_attribute</code>, <code>attributes_of</code> allow for setting and accessing custom attributes on elements.</li>
<li><strong>Utility Functions</strong>: Various helper functions such as <code>is_type</code>, <code>is_subtype</code>, <code>is_element</code>, <code>name_of</code>, <code>qualified_name_of</code> support common operations needed for working with elements.</li>
</ul>
<p>The <code>Element</code> class encapsulates common functionality needed for all elements in the model, including the initialization and management of class variables that track owned elements, associations, and other class-specific information. It also defines special class methods for defining, redefining, and creating instances of element classes.</p>
<p>This module offers a robust infrastructure for modeling relationships and hierarchies within complex systems and serves as a foundational tool for developers handling structured data within object-oriented paradigms.</p>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h2 id="stateforward.model.element.ElementType" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">ElementType</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;ElementType&#39;</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="s1">&#39;Element&#39;</span><span class="p">],</span> <span class="s1">&#39;Element&#39;</span><span class="p">])</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h2>


  <div class="doc doc-contents ">
  </div>

</div>


<div class="doc doc-object doc-class">




<h2 id="stateforward.model.element.Element" class="doc doc-heading">
          <code>Element</code>


</h2>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="typing.Generic">Generic</span>[<span title="stateforward.model.element.T">T</span>]</code></p>

  
      <p>A generic base class for modeling elements within a custom framework.
This class serves as a template for defining various model elements by providing mechanisms to handle
attributes, ownership, associations, and element specialization through subclassing. It implements a
registry for all elements, associates unique identifiers, and handles element creation, definition,
redefinition, and ownership.
When a subclass is created, it automatically registers itself, allocates a new ID, and sets up its
model, owner, and type information. Subclasses can further define or redefine their structure by
providing additional attributes and owned elements via the <code>__define__</code> or <code>__redefine__</code> methods.
The <code>__create__</code> and <code>__create_owned_elements__</code> methods are responsible for instance creation,
and ensuring that all elements within the namespace of the created element are properly initialized.
The constructor '<strong>new</strong>' is overridden to integrate this creation process and to manage the
initialization flow of the newly created elements.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>__all_elements__</code></td>
          <td>
                <code>dict[int, <a class="autorefs autorefs-internal" title="stateforward.model.element.Element" href="#stateforward.model.element.Element">Element</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A class attribute that acts as a registry of all
c        reated element instances, mapped by their unique IDs.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__id__</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A class-level unique identifier for elements.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__owned_elements__</code></td>
          <td>
                <code>list[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of IDs representing elements owned by this class.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__redefined_element__</code></td>
          <td>
                <code><span title="stateforward.core.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="stateforward.model.element.Element" href="#stateforward.model.element.Element">Element</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An element that this class may redefine.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__associations__</code></td>
          <td>
                <code>dict[str, int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dictionary mapping association names to their respective IDs.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__owner__</code></td>
          <td>
                <code><span title="stateforward.core.Optional">Optional</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The ID of the owner element, if any.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__type__</code></td>
          <td>
                <code><span title="stateforward.core.Type">Type</span>[<a class="autorefs autorefs-internal" title="stateforward.model.element.Element" href="#stateforward.model.element.Element">Element</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The type of the class, typically set to the subclass itself.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__model__</code></td>
          <td>
                <code><span title="stateforward.core.Optional">Optional</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The ID of the model element, if any.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__init__</code></td>
          <td>
                <code><span title="stateforward.core.Callable">Callable</span>[..., None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The initialization method for the element, with a default noop
implemmentation.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>model</code></td>
          <td>
                <code><span title="stateforward.core.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="stateforward.model.element.Element" href="#stateforward.model.element.Element">Element</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The model element associated with an instance of this class.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>Class</code></td>
          <td>
                <code>Methods</code>
          </td>
          <td>
            <div class="doc-md-description">
              
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__init_subclass__(cls,</code></td>
          <td>
                <code>**kwargs</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Automatically called when a subclass is defined, used to initialize class-level attributes
nd register the new element.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__define__(cls,</code></td>
          <td>
                <code>**kwargs</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Handles the definition of new elements by associating owned_elements and configuring the
amespace.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__redefine__(cls,</code></td>
          <td>
                <code>**kwargs</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Designed to be overridden in subclasses to handle element redefinition.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__create__(cls,</code></td>
          <td>
                <code>**kwargs) -&gt; &#39;Element&#39;</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Responsible for creating a new instance of the class, including initializing ownership and
ll elements within its namespace.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__new__(cls</code></td>
          <td>
                <code>**kwargs) -&gt; &#39;Element&#39;</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>type['Element'], <em>args: typing.Any, </em>*kwargs) -&gt; Union['Element', Callable[[], 'Element']]:
Overrides the default object instantiation process to integrate element creation and
nitialization management.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>__create_owned_elements__(cls,</code></td>
          <td>
                <code>(self, all_elements)</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>dict[int, 'Element']):
Instantiates owned elements and ensures they are added to the current element's namespace.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>stateforward/model/element.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Element</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A generic base class for modeling elements within a custom framework.</span>
<span class="sd">    This class serves as a template for defining various model elements by providing mechanisms to handle</span>
<span class="sd">    attributes, ownership, associations, and element specialization through subclassing. It implements a</span>
<span class="sd">    registry for all elements, associates unique identifiers, and handles element creation, definition,</span>
<span class="sd">    redefinition, and ownership.</span>
<span class="sd">    When a subclass is created, it automatically registers itself, allocates a new ID, and sets up its</span>
<span class="sd">    model, owner, and type information. Subclasses can further define or redefine their structure by</span>
<span class="sd">    providing additional attributes and owned elements via the `__define__` or `__redefine__` methods.</span>
<span class="sd">    The `__create__` and `__create_owned_elements__` methods are responsible for instance creation,</span>
<span class="sd">    and ensuring that all elements within the namespace of the created element are properly initialized.</span>
<span class="sd">    The constructor &#39;__new__&#39; is overridden to integrate this creation process and to manage the</span>
<span class="sd">    initialization flow of the newly created elements.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        __all_elements__ (dict[int, &#39;Element&#39;]):</span>
<span class="sd">             A class attribute that acts as a registry of all</span>
<span class="sd">            c        reated element instances, mapped by their unique IDs.</span>
<span class="sd">        __id__ (int):</span>
<span class="sd">             A class-level unique identifier for elements.</span>
<span class="sd">        __owned_elements__ (list[int]):</span>
<span class="sd">             A list of IDs representing elements owned by this class.</span>
<span class="sd">        __redefined_element__ (Optional[&#39;Element&#39;]):</span>
<span class="sd">             An element that this class may redefine.</span>
<span class="sd">        __associations__ (dict[str, int]):</span>
<span class="sd">             A dictionary mapping association names to their respective IDs.</span>
<span class="sd">        __owner__ (Optional[int]):</span>
<span class="sd">             The ID of the owner element, if any.</span>
<span class="sd">        __type__ (Type[&#39;Element&#39;]):</span>
<span class="sd">             The type of the class, typically set to the subclass itself.</span>
<span class="sd">        __model__ (Optional[int]):</span>
<span class="sd">             The ID of the model element, if any.</span>
<span class="sd">        __init__ (Callable[..., None]):</span>
<span class="sd">             The initialization method for the element, with a default noop</span>
<span class="sd">            implemmentation.</span>
<span class="sd">        model (Optional[&#39;Element&#39;]):</span>
<span class="sd">             The model element associated with an instance of this class.</span>
<span class="sd">        Class Methods:</span>
<span class="sd">        __init_subclass__(cls, **kwargs):</span>
<span class="sd">            Automatically called when a subclass is defined, used to initialize class-level attributes</span>
<span class="sd">            nd register the new element.</span>
<span class="sd">        __define__(cls, **kwargs):</span>
<span class="sd">            Handles the definition of new elements by associating owned_elements and configuring the</span>
<span class="sd">            amespace.</span>
<span class="sd">        __redefine__(cls, **kwargs):</span>
<span class="sd">            Designed to be overridden in subclasses to handle element redefinition.</span>
<span class="sd">        __create__(cls, **kwargs) -&gt; &#39;Element&#39;:</span>
<span class="sd">            Responsible for creating a new instance of the class, including initializing ownership and</span>
<span class="sd">            ll elements within its namespace.</span>
<span class="sd">        __new__(cls:</span>
<span class="sd">             type[&#39;Element&#39;], *args: typing.Any, **kwargs) -&gt; Union[&#39;Element&#39;, Callable[[], &#39;Element&#39;]]:</span>
<span class="sd">            Overrides the default object instantiation process to integrate element creation and</span>
<span class="sd">            nitialization management.</span>
<span class="sd">        __create_owned_elements__(cls, self, all_elements:</span>
<span class="sd">             dict[int, &#39;Element&#39;]):</span>
<span class="sd">            Instantiates owned elements and ensures they are added to the current element&#39;s namespace.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__all_elements__</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;ElementType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">__id__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__owned_elements__</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__redefined_element__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Element&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__associations__</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__owner__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__type__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="s2">&quot;Element&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__model__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="fm">__init__</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="kc">None</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Element&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__init_subclass__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes a subclass.</span>
<span class="sd">        This method is called when a new subclass of the `Element` base class is created, and it</span>
<span class="sd">        performs essential setup for the new subclass, including assigning unique identifiers,</span>
<span class="sd">        establishing element relationships, and initializing annotations.</span>

<span class="sd">        Attributes for the subclass, such as owned elements, model associations, and type definitions, are</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs:</span>
<span class="sd">                 Arbitrary keyword arguments. These can include:</span>
<span class="sd">            name (str):</span>
<span class="sd">                 The name to assign to the subclass. If not provided, the default name of the</span>
<span class="sd">                subclass will be used.</span>
<span class="sd">            redefined_element (Element):</span>
<span class="sd">                 An optional argument specifying an element that the subclass</span>
<span class="sd">                is redefining. If not provided, it is assumed this is an original definition rather than</span>
<span class="sd">                a redefinition.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError:</span>
<span class="sd">                 If the subclass does not properly specify the base type for an `Element`.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__owned_elements__</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__id__</span> <span class="o">=</span> <span class="n">Element</span><span class="o">.</span><span class="n">__id__</span> <span class="o">=</span> <span class="n">Element</span><span class="o">.</span><span class="n">__id__</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__model__</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__id__</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__all_elements__</span><span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="n">__id__</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__associations__</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__type__</span> <span class="o">=</span> <span class="bp">cls</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__owner__</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">redefined_element</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__redefined_element__</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
            <span class="s2">&quot;redefined_element&quot;</span><span class="p">,</span> <span class="kc">None</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">is_subtype</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__base__</span><span class="p">,</span> <span class="n">Element</span><span class="p">):</span>
            <span class="bp">cls</span><span class="o">.</span><span class="vm">__annotations__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__base__</span><span class="o">.</span><span class="vm">__annotations__</span><span class="p">)</span>
            <span class="n">specialize</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__base__</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">redefined_element</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">__define__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">__redefine__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">__define__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Class method to define extra owned elements and attributes for an Element class based on provided keyword arguments.</span>
<span class="sd">        This method is used to define additional owned elements and set attributes for an Element class by processing</span>
<span class="sd">        keyword arguments passed to the method. Each owned element is added to the class through the</span>
<span class="sd">        `add_owned_element_to` function. Subsequently, the namespace is sorted to distinguish owned elements,</span>
<span class="sd">        orphans, and attributes. Attributes are set using the `set_attribute` function according to their respective sorted order.</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs:</span>
<span class="sd">                 Arbitrary keyword arguments where the key is the attribute name or owned element, and the value is its corresponding value or owned element instance.</span>
<span class="sd">                The &#39;owned_elements&#39; keyword argument is expected to be an iterable of owned elements that are to be added to this class.</span>
<span class="sd">                Any other keyword argument corresponds to an attribute or owned element of the class that will be set or added respectively based on the type of the value provided. Attributes are set directly, whereas owned elements are added using pre-defined mechanisms while respecting ownership rules.</span>
<span class="sd">                Sorting of the namespace involves determining the owned elements, orphan elements (elements without an owner), and attributes that need to be set on the class. This is performed by &#39;sort_namespace&#39; nested function.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">owned_element</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;owned_elements&quot;</span><span class="p">,</span> <span class="p">()):</span>
            <span class="n">add_owned_element_to</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">owned_element</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">sort_namespace</span><span class="p">(</span><span class="n">namespace</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Sorts the provided namespace dictionary into a consistently ordered mapping.</span>
<span class="sd">            The function segregates keys based on whether they are owned, orphaned, or regular attributes.</span>
<span class="sd">            Elements in the namespace which are considered &#39;owned&#39; are those where an owner is identifiable.</span>
<span class="sd">            Orphaned elements have no identifiable owner, and attributes include all other elements.</span>
<span class="sd">            The sorting is done based on a calculated identity for each item.</span>

<span class="sd">            Args:</span>
<span class="sd">                namespace (dict[str, typing.Any]):</span>
<span class="sd">                     A dictionary representing the namespace to be sorted.</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict[str, typing.Any]:</span>
<span class="sd">                     A dictionary with keys sorted into orphans, owned, and attributes in that order.</span>
<span class="sd">                    The resultant dictionary contains all elements from orphans first, followed by owned elements, and then the regular attributes, each sorted by their calculated identities.</span>

<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">owned</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">orphans</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">attributes</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">namespace</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">Element</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">:</span>
                    <span class="n">item_id</span> <span class="o">=</span> <span class="n">id_of</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">is_element</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">owner_of</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="n">orphans</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">owned</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">attributes</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>

            <span class="k">return</span> <span class="p">{</span><span class="o">**</span><span class="n">orphans</span><span class="p">,</span> <span class="o">**</span><span class="n">owned</span><span class="p">,</span> <span class="o">**</span><span class="n">attributes</span><span class="p">}</span>

        <span class="n">sorted_namespace</span> <span class="o">=</span> <span class="n">sort_namespace</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="o">**</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">,</span>
                <span class="o">**</span><span class="nb">dict</span><span class="p">(</span>
                    <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)))</span>
                    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__annotations__</span>
                <span class="p">),</span>
            <span class="p">},</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span> <span class="ow">in</span> <span class="n">sorted_namespace</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">set_attribute</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">__redefine__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A class method to redefine properties of the class based on provided keyword arguments.</span>
<span class="sd">        This method allows dynamic modification of class attributes, altering the class&#39; behaviour</span>
<span class="sd">        at runtime. The kwargs dictionary should contain attribute names and their new values.</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs:</span>
<span class="sd">                 Variable length keyword arguments. Each key corresponds to an attribute</span>
<span class="sd">                name of the class, and each value is the new value to set for that</span>
<span class="sd">                attribute.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None:</span>
<span class="sd">                 This method does not return anything.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">set_attribute</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">__create__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Element&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an instance of the Element class with provided keyword arguments.</span>
<span class="sd">        This method populates the new object&#39;s attributes, creating a namespace for the</span>
<span class="sd">        core in the element. The `owner` and `all_elements` attributes are set from keyword</span>
<span class="sd">        arguments if provided, otherwise, default values are assumed. Any elements owned by</span>
<span class="sd">        the instance are initialized in this method.</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs:</span>
<span class="sd">                 Variable length keyword arguments.</span>
<span class="sd">            - &#39;owner&#39; (optional):</span>
<span class="sd">                 The owner of the element. Defaults to None.</span>
<span class="sd">            - &#39;id&#39; (optional):</span>
<span class="sd">                 The identifier for the element. Defaults to the object id.</span>
<span class="sd">            - &#39;all_elements&#39; (optional):</span>
<span class="sd">                 A dictionary of all element instances keyed by their ids.</span>
<span class="sd">                Defaults to a dictionary with the current class&#39;s id_of as the key and `self` as the value.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Element:</span>
<span class="sd">                 A new instance of the Element class or its subclass with initialized attributes.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError:</span>
<span class="sd">                 If super().__new__(cls) does not return an instance of cls.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="n">owner</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__owner__</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;owner&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__owned_elements__</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__id__</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">Element</span><span class="p">,</span> <span class="n">owner</span><span class="p">)</span><span class="o">.</span><span class="n">model</span> <span class="k">if</span> <span class="n">owner</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span>
        <span class="n">all_elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__all_elements__</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
            <span class="s2">&quot;all_elements&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">id_of</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span> <span class="bp">self</span><span class="p">}</span>
        <span class="p">)</span>  <span class="c1"># create a namespace for the core in the element</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__create_owned_elements__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">all_elements</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;Element&quot;</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Element&quot;</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[],</span> <span class="s2">&quot;Element&quot;</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new instance of the Element class or returns a callable that creates an instance when invoked.</span>
<span class="sd">        This static method is a custom constructor for creating instances of the given `Element` class or its subclasses. It uses the private `__create__` method to construct an instance with the provided keyword arguments. If the created instance does not have an owner, it iterates through all associated elements to set their attributes based on existing associations and initializes them with the corresponding kwargs.</span>
<span class="sd">        For the root element of the element tree, this method finalizes its creation and returns the new instance directly. If the instance being created is not the root element, this method returns a lambda function that, when called, returns the created instance without invoking the `__init__` method.</span>

<span class="sd">        Args:</span>
<span class="sd">            cls (type[Element]):</span>
<span class="sd">                 The class of the element to create an instance of.</span>
<span class="sd">            *args (typing.Any):</span>
<span class="sd">                 Variable length argument list, currently not utilized in the method body.</span>
<span class="sd">            **kwargs (typing.Any):</span>
<span class="sd">                 Variable keyword arguments used for initializing the instance attributes.</span>

<span class="sd">        Returns:</span>
<span class="sd">            typing.Union[Element, typing.Callable[[], Element]]:</span>
<span class="sd">                 An instance of the `Element` class if it is the root element, or a lambda function that returns the new instance for non-root elements.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__create__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">owner_of</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__all_elements__</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">associations_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__all_elements__</span><span class="p">[</span><span class="n">id_of</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">))]</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="n">value</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">element</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
                    <span class="n">element</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">element</span><span class="p">),</span> <span class="p">{}))</span>
            <span class="c1"># this is the root element of the element, so we can start initializing</span>
            <span class="k">return</span> <span class="bp">self</span>
        <span class="c1"># a hack to prevent __init__ from being called</span>
        <span class="k">return</span> <span class="k">lambda</span> <span class="n">_self</span><span class="o">=</span><span class="bp">self</span><span class="p">:</span> <span class="n">_self</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">__create_owned_elements__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">all_elements</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;Element&quot;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Class method to instantiate and associate owned elements with a class instance.</span>
<span class="sd">        This method loops through the class-level collection of owned element IDs, retrieves the corresponding element from a shared class-level dictionary, instantiates it by preventing the direct call of its constructor, and finally stores the instance in a provided dictionary. This method modifies the provided dictionary in place by adding the new instances and also appends the element IDs to the instance specific owned elements list.</span>

<span class="sd">        Args:</span>
<span class="sd">            cls (type):</span>
<span class="sd">                 The class from which the method is called.</span>
<span class="sd">            self (object):</span>
<span class="sd">                 The instance of the class owning the new elements.</span>
<span class="sd">            all_elements (dict[int, &#39;Element&#39;]):</span>
<span class="sd">                 A dictionary mapping element IDs to their corresponding &#39;Element&#39; instances.</span>

<span class="sd">        Notes:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">owned_element_id</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__owned_elements__</span><span class="p">:</span>
            <span class="n">owned_element</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__all_elements__</span><span class="p">[</span><span class="n">owned_element_id</span><span class="p">]</span>
            <span class="n">instance</span> <span class="o">=</span> <span class="n">owned_element</span><span class="p">(</span>
                <span class="n">owner</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">all_elements</span><span class="o">=</span><span class="n">all_elements</span><span class="p">,</span>
            <span class="p">)()</span>  <span class="c1"># using the extra function call to prevent __init__ from being called</span>
            <span class="n">all_elements</span><span class="p">[</span><span class="n">owned_element_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">instance</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__owned_elements__</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">owned_element_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h3 id="stateforward.model.element.Element.__create__" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">__create__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Creates an instance of the Element class with provided keyword arguments.
This method populates the new object's attributes, creating a namespace for the
core in the element. The <code>owner</code> and <code>all_elements</code> attributes are set from keyword
arguments if provided, otherwise, default values are assumed. Any elements owned by
the instance are initialized in this method.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Variable length keyword arguments.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
        <tr>
          <td><code>-</code></td>
          <td>
                <code>&#39;owner&#39; (optional</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The owner of the element. Defaults to None.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>-</code></td>
          <td>
                <code>&#39;id&#39; (optional</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The identifier for the element. Defaults to the object id.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>-</code></td>
          <td>
                <code>&#39;all_elements&#39; (optional</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dictionary of all element instances keyed by their ids.
Defaults to a dictionary with the current class's id_of as the key and <code>self</code> as the value.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>Element</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.Element" href="#stateforward.model.element.Element">Element</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new instance of the Element class or its subclass with initialized attributes.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>TypeError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If super().<strong>new</strong>(cls) does not return an instance of cls.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">__create__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Element&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates an instance of the Element class with provided keyword arguments.</span>
<span class="sd">    This method populates the new object&#39;s attributes, creating a namespace for the</span>
<span class="sd">    core in the element. The `owner` and `all_elements` attributes are set from keyword</span>
<span class="sd">    arguments if provided, otherwise, default values are assumed. Any elements owned by</span>
<span class="sd">    the instance are initialized in this method.</span>

<span class="sd">    Args:</span>
<span class="sd">        **kwargs:</span>
<span class="sd">             Variable length keyword arguments.</span>
<span class="sd">        - &#39;owner&#39; (optional):</span>
<span class="sd">             The owner of the element. Defaults to None.</span>
<span class="sd">        - &#39;id&#39; (optional):</span>
<span class="sd">             The identifier for the element. Defaults to the object id.</span>
<span class="sd">        - &#39;all_elements&#39; (optional):</span>
<span class="sd">             A dictionary of all element instances keyed by their ids.</span>
<span class="sd">            Defaults to a dictionary with the current class&#39;s id_of as the key and `self` as the value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Element:</span>
<span class="sd">             A new instance of the Element class or its subclass with initialized attributes.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError:</span>
<span class="sd">             If super().__new__(cls) does not return an instance of cls.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__owner__</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;owner&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__owned_elements__</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__id__</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">Element</span><span class="p">,</span> <span class="n">owner</span><span class="p">)</span><span class="o">.</span><span class="n">model</span> <span class="k">if</span> <span class="n">owner</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span>
    <span class="n">all_elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__all_elements__</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
        <span class="s2">&quot;all_elements&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">id_of</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span> <span class="bp">self</span><span class="p">}</span>
    <span class="p">)</span>  <span class="c1"># create a namespace for the core in the element</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">__create_owned_elements__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">all_elements</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.model.element.Element.__create_owned_elements__" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">__create_owned_elements__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">all_elements</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Class method to instantiate and associate owned elements with a class instance.
This method loops through the class-level collection of owned element IDs, retrieves the corresponding element from a shared class-level dictionary, instantiates it by preventing the direct call of its constructor, and finally stores the instance in a provided dictionary. This method modifies the provided dictionary in place by adding the new instances and also appends the element IDs to the instance specific owned elements list.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cls</code></td>
          <td>
                <code>type</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The class from which the method is called.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>self</code></td>
          <td>
                <code>object</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The instance of the class owning the new elements.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>all_elements</code></td>
          <td>
                <code>dict[int, <a class="autorefs autorefs-internal" title="stateforward.model.element.Element" href="#stateforward.model.element.Element">Element</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dictionary mapping element IDs to their corresponding 'Element' instances.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>
      <p>Notes:</p>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">__create_owned_elements__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">all_elements</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;Element&quot;</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class method to instantiate and associate owned elements with a class instance.</span>
<span class="sd">    This method loops through the class-level collection of owned element IDs, retrieves the corresponding element from a shared class-level dictionary, instantiates it by preventing the direct call of its constructor, and finally stores the instance in a provided dictionary. This method modifies the provided dictionary in place by adding the new instances and also appends the element IDs to the instance specific owned elements list.</span>

<span class="sd">    Args:</span>
<span class="sd">        cls (type):</span>
<span class="sd">             The class from which the method is called.</span>
<span class="sd">        self (object):</span>
<span class="sd">             The instance of the class owning the new elements.</span>
<span class="sd">        all_elements (dict[int, &#39;Element&#39;]):</span>
<span class="sd">             A dictionary mapping element IDs to their corresponding &#39;Element&#39; instances.</span>

<span class="sd">    Notes:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">owned_element_id</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__owned_elements__</span><span class="p">:</span>
        <span class="n">owned_element</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__all_elements__</span><span class="p">[</span><span class="n">owned_element_id</span><span class="p">]</span>
        <span class="n">instance</span> <span class="o">=</span> <span class="n">owned_element</span><span class="p">(</span>
            <span class="n">owner</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">all_elements</span><span class="o">=</span><span class="n">all_elements</span><span class="p">,</span>
        <span class="p">)()</span>  <span class="c1"># using the extra function call to prevent __init__ from being called</span>
        <span class="n">all_elements</span><span class="p">[</span><span class="n">owned_element_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">instance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__owned_elements__</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">owned_element_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.model.element.Element.__define__" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">__define__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Class method to define extra owned elements and attributes for an Element class based on provided keyword arguments.
This method is used to define additional owned elements and set attributes for an Element class by processing
keyword arguments passed to the method. Each owned element is added to the class through the
<code>add_owned_element_to</code> function. Subsequently, the namespace is sorted to distinguish owned elements,
orphans, and attributes. Attributes are set using the <code>set_attribute</code> function according to their respective sorted order.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Arbitrary keyword arguments where the key is the attribute name or owned element, and the value is its corresponding value or owned element instance.
The 'owned_elements' keyword argument is expected to be an iterable of owned elements that are to be added to this class.
Any other keyword argument corresponds to an attribute or owned element of the class that will be set or added respectively based on the type of the value provided. Attributes are set directly, whereas owned elements are added using pre-defined mechanisms while respecting ownership rules.
Sorting of the namespace involves determining the owned elements, orphan elements (elements without an owner), and attributes that need to be set on the class. This is performed by 'sort_namespace' nested function.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">__define__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class method to define extra owned elements and attributes for an Element class based on provided keyword arguments.</span>
<span class="sd">    This method is used to define additional owned elements and set attributes for an Element class by processing</span>
<span class="sd">    keyword arguments passed to the method. Each owned element is added to the class through the</span>
<span class="sd">    `add_owned_element_to` function. Subsequently, the namespace is sorted to distinguish owned elements,</span>
<span class="sd">    orphans, and attributes. Attributes are set using the `set_attribute` function according to their respective sorted order.</span>

<span class="sd">    Args:</span>
<span class="sd">        **kwargs:</span>
<span class="sd">             Arbitrary keyword arguments where the key is the attribute name or owned element, and the value is its corresponding value or owned element instance.</span>
<span class="sd">            The &#39;owned_elements&#39; keyword argument is expected to be an iterable of owned elements that are to be added to this class.</span>
<span class="sd">            Any other keyword argument corresponds to an attribute or owned element of the class that will be set or added respectively based on the type of the value provided. Attributes are set directly, whereas owned elements are added using pre-defined mechanisms while respecting ownership rules.</span>
<span class="sd">            Sorting of the namespace involves determining the owned elements, orphan elements (elements without an owner), and attributes that need to be set on the class. This is performed by &#39;sort_namespace&#39; nested function.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">owned_element</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;owned_elements&quot;</span><span class="p">,</span> <span class="p">()):</span>
        <span class="n">add_owned_element_to</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">owned_element</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sort_namespace</span><span class="p">(</span><span class="n">namespace</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sorts the provided namespace dictionary into a consistently ordered mapping.</span>
<span class="sd">        The function segregates keys based on whether they are owned, orphaned, or regular attributes.</span>
<span class="sd">        Elements in the namespace which are considered &#39;owned&#39; are those where an owner is identifiable.</span>
<span class="sd">        Orphaned elements have no identifiable owner, and attributes include all other elements.</span>
<span class="sd">        The sorting is done based on a calculated identity for each item.</span>

<span class="sd">        Args:</span>
<span class="sd">            namespace (dict[str, typing.Any]):</span>
<span class="sd">                 A dictionary representing the namespace to be sorted.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict[str, typing.Any]:</span>
<span class="sd">                 A dictionary with keys sorted into orphans, owned, and attributes in that order.</span>
<span class="sd">                The resultant dictionary contains all elements from orphans first, followed by owned elements, and then the regular attributes, each sorted by their calculated identities.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">owned</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">orphans</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">namespace</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">Element</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">:</span>
                <span class="n">item_id</span> <span class="o">=</span> <span class="n">id_of</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">is_element</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">owner_of</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">orphans</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">owned</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">attributes</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="o">**</span><span class="n">orphans</span><span class="p">,</span> <span class="o">**</span><span class="n">owned</span><span class="p">,</span> <span class="o">**</span><span class="n">attributes</span><span class="p">}</span>

    <span class="n">sorted_namespace</span> <span class="o">=</span> <span class="n">sort_namespace</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="o">**</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">,</span>
            <span class="o">**</span><span class="nb">dict</span><span class="p">(</span>
                <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)))</span>
                <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__annotations__</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span> <span class="ow">in</span> <span class="n">sorted_namespace</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">set_attribute</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.model.element.Element.__init_subclass__" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">__init_subclass__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Initializes a subclass.
This method is called when a new subclass of the <code>Element</code> base class is created, and it
performs essential setup for the new subclass, including assigning unique identifiers,
establishing element relationships, and initializing annotations.</p>
<p>Attributes for the subclass, such as owned elements, model associations, and type definitions, are</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Arbitrary keyword arguments. These can include:</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name to assign to the subclass. If not provided, the default name of the
subclass will be used.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>redefined_element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.Element" href="#stateforward.model.element.Element">Element</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional argument specifying an element that the subclass
is redefining. If not provided, it is assumed this is an original definition rather than
a redefinition.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>TypeError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the subclass does not properly specify the base type for an <code>Element</code>.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__init_subclass__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes a subclass.</span>
<span class="sd">    This method is called when a new subclass of the `Element` base class is created, and it</span>
<span class="sd">    performs essential setup for the new subclass, including assigning unique identifiers,</span>
<span class="sd">    establishing element relationships, and initializing annotations.</span>

<span class="sd">    Attributes for the subclass, such as owned elements, model associations, and type definitions, are</span>

<span class="sd">    Args:</span>
<span class="sd">        **kwargs:</span>
<span class="sd">             Arbitrary keyword arguments. These can include:</span>
<span class="sd">        name (str):</span>
<span class="sd">             The name to assign to the subclass. If not provided, the default name of the</span>
<span class="sd">            subclass will be used.</span>
<span class="sd">        redefined_element (Element):</span>
<span class="sd">             An optional argument specifying an element that the subclass</span>
<span class="sd">            is redefining. If not provided, it is assumed this is an original definition rather than</span>
<span class="sd">            a redefinition.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError:</span>
<span class="sd">             If the subclass does not properly specify the base type for an `Element`.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">__owned_elements__</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">__id__</span> <span class="o">=</span> <span class="n">Element</span><span class="o">.</span><span class="n">__id__</span> <span class="o">=</span> <span class="n">Element</span><span class="o">.</span><span class="n">__id__</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">__model__</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__id__</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">__all_elements__</span><span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="n">__id__</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">__associations__</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">__type__</span> <span class="o">=</span> <span class="bp">cls</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">__owner__</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
    <span class="n">redefined_element</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__redefined_element__</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
        <span class="s2">&quot;redefined_element&quot;</span><span class="p">,</span> <span class="kc">None</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">is_subtype</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__base__</span><span class="p">,</span> <span class="n">Element</span><span class="p">):</span>
        <span class="bp">cls</span><span class="o">.</span><span class="vm">__annotations__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__base__</span><span class="o">.</span><span class="vm">__annotations__</span><span class="p">)</span>
        <span class="n">specialize</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__base__</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">redefined_element</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__define__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__redefine__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.model.element.Element.__new__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Creates a new instance of the Element class or returns a callable that creates an instance when invoked.
This static method is a custom constructor for creating instances of the given <code>Element</code> class or its subclasses. It uses the private <code>__create__</code> method to construct an instance with the provided keyword arguments. If the created instance does not have an owner, it iterates through all associated elements to set their attributes based on existing associations and initializes them with the corresponding kwargs.
For the root element of the element tree, this method finalizes its creation and returns the new instance directly. If the instance being created is not the root element, this method returns a lambda function that, when called, returns the created instance without invoking the <code>__init__</code> method.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cls</code></td>
          <td>
                <code>type[<a class="autorefs autorefs-internal" title="stateforward.model.element.Element" href="#stateforward.model.element.Element">Element</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The class of the element to create an instance of.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>*args</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Variable length argument list, currently not utilized in the method body.</p>
            </div>
          </td>
          <td>
                <code>()</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Variable keyword arguments used for initializing the instance attributes.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="stateforward.model.element.Element" href="#stateforward.model.element.Element">Element</a>, <span title="typing.Callable">Callable</span>[[], <a class="autorefs autorefs-internal" title="stateforward.model.element.Element" href="#stateforward.model.element.Element">Element</a>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>typing.Union[Element, typing.Callable[[], Element]]:
 An instance of the <code>Element</code> class if it is the root element, or a lambda function that returns the new instance for non-root elements.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;Element&quot;</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Element&quot;</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[],</span> <span class="s2">&quot;Element&quot;</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a new instance of the Element class or returns a callable that creates an instance when invoked.</span>
<span class="sd">    This static method is a custom constructor for creating instances of the given `Element` class or its subclasses. It uses the private `__create__` method to construct an instance with the provided keyword arguments. If the created instance does not have an owner, it iterates through all associated elements to set their attributes based on existing associations and initializes them with the corresponding kwargs.</span>
<span class="sd">    For the root element of the element tree, this method finalizes its creation and returns the new instance directly. If the instance being created is not the root element, this method returns a lambda function that, when called, returns the created instance without invoking the `__init__` method.</span>

<span class="sd">    Args:</span>
<span class="sd">        cls (type[Element]):</span>
<span class="sd">             The class of the element to create an instance of.</span>
<span class="sd">        *args (typing.Any):</span>
<span class="sd">             Variable length argument list, currently not utilized in the method body.</span>
<span class="sd">        **kwargs (typing.Any):</span>
<span class="sd">             Variable keyword arguments used for initializing the instance attributes.</span>

<span class="sd">    Returns:</span>
<span class="sd">        typing.Union[Element, typing.Callable[[], Element]]:</span>
<span class="sd">             An instance of the `Element` class if it is the root element, or a lambda function that returns the new instance for non-root elements.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__create__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">owner_of</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__all_elements__</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">associations_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__all_elements__</span><span class="p">[</span><span class="n">id_of</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">))]</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">element</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
                <span class="n">element</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">element</span><span class="p">),</span> <span class="p">{}))</span>
        <span class="c1"># this is the root element of the element, so we can start initializing</span>
        <span class="k">return</span> <span class="bp">self</span>
    <span class="c1"># a hack to prevent __init__ from being called</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">_self</span><span class="o">=</span><span class="bp">self</span><span class="p">:</span> <span class="n">_self</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.model.element.Element.__redefine__" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">__redefine__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>A class method to redefine properties of the class based on provided keyword arguments.
This method allows dynamic modification of class attributes, altering the class' behaviour
at runtime. The kwargs dictionary should contain attribute names and their new values.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Variable length keyword arguments. Each key corresponds to an attribute
name of the class, and each value is the new value to set for that
attribute.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>None</code></td>          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>This method does not return anything.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">__redefine__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class method to redefine properties of the class based on provided keyword arguments.</span>
<span class="sd">    This method allows dynamic modification of class attributes, altering the class&#39; behaviour</span>
<span class="sd">    at runtime. The kwargs dictionary should contain attribute names and their new values.</span>

<span class="sd">    Args:</span>
<span class="sd">        **kwargs:</span>
<span class="sd">             Variable length keyword arguments. Each key corresponds to an attribute</span>
<span class="sd">            name of the class, and each value is the new value to set for that</span>
<span class="sd">            attribute.</span>

<span class="sd">    Returns:</span>
<span class="sd">        None:</span>
<span class="sd">             This method does not return anything.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">set_attribute</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.id_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">id_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Gets the unique identifier of a given element.
This function retrieves a unique identifier associated with the 'element' parameter.
If the 'element' has an '<strong>id</strong>' attribute, that value is returned. Otherwise, this function
falls back to Python's built-in <code>id()</code> function to return a unique identifier.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element for which the unique identifier is to be retrieved.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>int</code></td>          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The unique identifier for the 'element'. If '<strong>id</strong>' attribute exists it is returned; otherwise, the result of <code>id(element)</code> is returned.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">id_of</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gets the unique identifier of a given element.</span>
<span class="sd">    This function retrieves a unique identifier associated with the &#39;element&#39; parameter.</span>
<span class="sd">    If the &#39;element&#39; has an &#39;__id__&#39; attribute, that value is returned. Otherwise, this function</span>
<span class="sd">    falls back to Python&#39;s built-in `id()` function to return a unique identifier.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element for which the unique identifier is to be retrieved.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int:</span>
<span class="sd">             The unique identifier for the &#39;element&#39;. If &#39;__id__&#39; attribute exists it is returned; otherwise, the result of `id(element)` is returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;__id__&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">element</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.type_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">type_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Determines the type of a given element.
This function takes an element of any type and returns its type.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element for which to determine the type.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>type[<a class="autorefs autorefs-internal" title="stateforward.model.element.Element" href="#stateforward.model.element.Element">Element</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>type[Element]:
 The type of the given element.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">type_of</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;Element&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines the type of a given element.</span>
<span class="sd">    This function takes an element of any type and returns its type.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element for which to determine the type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        type[Element]:</span>
<span class="sd">             The type of the given element.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="n">__type__</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.owned_elements_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">owned_elements_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Generates elements owned by a given element.
The function iterates over element IDs stored in the <code>__owned_elements__</code> attribute of the provided element and yields the corresponding elements from the <code>__all_elements__</code> mapping.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element whose owned elements are to be generated.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Generator">Generator</span>[<a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a>, None, None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Generator[ElementType, None, None]:
 A generator that yields elements owned by the input element.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">owned_elements_of</span><span class="p">(</span>
    <span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Generator</span><span class="p">[</span><span class="n">ElementType</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates elements owned by a given element.</span>
<span class="sd">    The function iterates over element IDs stored in the `__owned_elements__` attribute of the provided element and yields the corresponding elements from the `__all_elements__` mapping.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element whose owned elements are to be generated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator[ElementType, None, None]:</span>
<span class="sd">             A generator that yields elements owned by the input element.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">owned_element_id</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">__owned_elements__</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">element</span><span class="o">.</span><span class="n">__all_elements__</span><span class="p">[</span><span class="n">owned_element_id</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.descendants_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">descendants_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Generates all descendants of a given element in a hierarchy.
This generator function recursively yields all the descendants of the specified element. A descendant is defined as any element that is a direct or indirect child of the given element, at any depth level in the hierarchy. Each descendant element is yielded exactly once.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element whose descendants are to be generated.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Yields:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>ElementType</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The next descendant element in the hierarchy.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">descendants_of</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Generator</span><span class="p">[</span><span class="n">ElementType</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates all descendants of a given element in a hierarchy.</span>
<span class="sd">    This generator function recursively yields all the descendants of the specified element. A descendant is defined as any element that is a direct or indirect child of the given element, at any depth level in the hierarchy. Each descendant element is yielded exactly once.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element whose descendants are to be generated.</span>

<span class="sd">    Yields:</span>
<span class="sd">        ElementType:</span>
<span class="sd">             The next descendant element in the hierarchy.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">owned_element</span> <span class="ow">in</span> <span class="n">owned_elements_of</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">owned_element</span>
        <span class="k">yield from</span> <span class="n">descendants_of</span><span class="p">(</span><span class="n">owned_element</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.is_descendant_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_descendant_of</span><span class="p">(</span><span class="n">ancestor</span><span class="p">,</span> <span class="n">descendant</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Determines whether a specified element is a descendant of a given ancestor element.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>ancestor</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element to be considered as the ancestor.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>descendant</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element to check for being a descendant.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if the descendant is indeed a descendant of the ancestor, otherwise False.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_descendant_of</span><span class="p">(</span><span class="n">ancestor</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">descendant</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines whether a specified element is a descendant of a given ancestor element.</span>

<span class="sd">    Args:</span>
<span class="sd">        ancestor (ElementType):</span>
<span class="sd">             The element to be considered as the ancestor.</span>
<span class="sd">        descendant (ElementType):</span>
<span class="sd">             The element to check for being a descendant.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool:</span>
<span class="sd">             True if the descendant is indeed a descendant of the ancestor, otherwise False.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="nb">next</span><span class="p">(</span>
            <span class="p">(</span><span class="n">element</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">descendants_of</span><span class="p">(</span><span class="n">ancestor</span><span class="p">)</span> <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">descendant</span><span class="p">),</span>
            <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.ancestors_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">ancestors_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Retrieves a generator of the ancestors of a given element.
The function yields the owner of the provided element, followed recursively by the owner of that owner, and so on. It continues to traverse the ownership hierarchy until it reaches an element that does not have an owner.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element for which to determine the ancestry.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Generator">Generator</span>[<a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a>, None, None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>typing.Generator[ElementType, None, None]:
 A generator yielding the ancestors of the given element, in the order from the direct owner to the most distant ancestor found.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">ancestors_of</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Generator</span><span class="p">[</span><span class="n">ElementType</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves a generator of the ancestors of a given element.</span>
<span class="sd">    The function yields the owner of the provided element, followed recursively by the owner of that owner, and so on. It continues to traverse the ownership hierarchy until it reaches an element that does not have an owner.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element for which to determine the ancestry.</span>

<span class="sd">    Returns:</span>
<span class="sd">        typing.Generator[ElementType, None, None]:</span>
<span class="sd">             A generator yielding the ancestors of the given element, in the order from the direct owner to the most distant ancestor found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">owner_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">owner</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">owner</span>
        <span class="k">yield from</span> <span class="n">ancestors_of</span><span class="p">(</span><span class="n">owner</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.is_ancestor_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_ancestor_of</span><span class="p">(</span><span class="n">descendant</span><span class="p">,</span> <span class="n">ancestor</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Determines if the provided ancestor element is an ancestor of the specified descendant element.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>descendant</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element that is potentially a descendant.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>ancestor</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element that is potentially an ancestor.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if the ancestor is an ancestor of the descendant, otherwise False.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_ancestor_of</span><span class="p">(</span><span class="n">descendant</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">ancestor</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines if the provided ancestor element is an ancestor of the specified descendant element.</span>

<span class="sd">    Args:</span>
<span class="sd">        descendant (ElementType):</span>
<span class="sd">             The element that is potentially a descendant.</span>
<span class="sd">        ancestor (ElementType):</span>
<span class="sd">             The element that is potentially an ancestor.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool:</span>
<span class="sd">             True if the ancestor is an ancestor of the descendant, otherwise False.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">is_descendant_of</span><span class="p">(</span><span class="n">ancestor</span><span class="p">,</span> <span class="n">descendant</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.set_model" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">set_model</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Sets the model attribute for a given element and propagates this setting to all elements owned by it.
Recursively sets the '<strong>model</strong>' attribute of the given 'element' to the integer ID of the 'model'. It also
applies the same setting to all elements that are considered owned by the 'element'. The 'owned_elements_of' generator is used to iterate over these owned elements.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element for which the model is being set.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>model</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The model element whose ID will be used to set the '<strong>model</strong>' attribute.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_model</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the model attribute for a given element and propagates this setting to all elements owned by it.</span>
<span class="sd">    Recursively sets the &#39;__model__&#39; attribute of the given &#39;element&#39; to the integer ID of the &#39;model&#39;. It also</span>
<span class="sd">    applies the same setting to all elements that are considered owned by the &#39;element&#39;. The &#39;owned_elements_of&#39; generator is used to iterate over these owned elements.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element for which the model is being set.</span>
<span class="sd">        model (ElementType):</span>
<span class="sd">             The model element whose ID will be used to set the &#39;__model__&#39; attribute.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">element</span><span class="o">.</span><span class="n">__model__</span> <span class="o">=</span> <span class="n">id_of</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">owned_element</span> <span class="ow">in</span> <span class="n">owned_elements_of</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
        <span class="n">set_model</span><span class="p">(</span><span class="n">owned_element</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.set_owner" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">set_owner</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">owner</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Sets the owner of an element and all its owned elements to a specified owner element, then updates their model references to the model of the new owner.
This function recursively assigns the owner's ID to the element and all of its owned
sub-elements. It also updates the model reference for each element to match the model
reference of the new owner. This procedure ensures a consistent ownership hierarchy and
proper linkage to the corresponding model for each element within a given context.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element whose owner and model are to be updated.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>owner</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element that will be set as the new owner.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>
      <p>Returns:</p>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_owner</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">owner</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the owner of an element and all its owned elements to a specified owner element, then updates their model references to the model of the new owner.</span>
<span class="sd">    This function recursively assigns the owner&#39;s ID to the element and all of its owned</span>
<span class="sd">    sub-elements. It also updates the model reference for each element to match the model</span>
<span class="sd">    reference of the new owner. This procedure ensures a consistent ownership hierarchy and</span>
<span class="sd">    proper linkage to the corresponding model for each element within a given context.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element whose owner and model are to be updated.</span>
<span class="sd">        owner (ElementType):</span>
<span class="sd">             The element that will be set as the new owner.</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">element</span><span class="o">.</span><span class="n">__owner__</span> <span class="o">=</span> <span class="n">id_of</span><span class="p">(</span><span class="n">owner</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">owned_element</span> <span class="ow">in</span> <span class="n">owned_elements_of</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
        <span class="n">set_owner</span><span class="p">(</span><span class="n">owned_element</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
    <span class="n">set_model</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">element</span><span class="o">.</span><span class="n">__all_elements__</span><span class="p">[</span><span class="n">owner</span><span class="o">.</span><span class="n">__model__</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.add_owned_element_to" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_owned_element_to</span><span class="p">(</span><span class="n">owner</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">change_ownership</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Adds an owned element to the specified owner, optionally changing the current ownership.
This function is responsible for taking an element and adding it to the ownership structure of the given owner.
If the element already has an owner and <code>change_ownership</code> is <code>False</code>, a <code>ValueError</code> is raised. If <code>True</code>, the current owner is disassociated before proceeding.
The function sets the element's ownership to the given owner and appends its identifier to the owner's list of owned elements.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>owner</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The entity that will own the element after the operation.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element to be added to the ownership structure of the owner.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>change_ownership</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A flag to indicate if the ownership should be changed if the element already has an owner. Defaults to <code>False</code>.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the element already has an owner and <code>change_ownership</code> is <code>False</code>.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
      <p>Returns:</p>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_owned_element_to</span><span class="p">(</span>
    <span class="n">owner</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span>
    <span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">change_ownership</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds an owned element to the specified owner, optionally changing the current ownership.</span>
<span class="sd">    This function is responsible for taking an element and adding it to the ownership structure of the given owner.</span>
<span class="sd">    If the element already has an owner and `change_ownership` is `False`, a `ValueError` is raised. If `True`, the current owner is disassociated before proceeding.</span>
<span class="sd">    The function sets the element&#39;s ownership to the given owner and appends its identifier to the owner&#39;s list of owned elements.</span>

<span class="sd">    Args:</span>
<span class="sd">        owner (ElementType):</span>
<span class="sd">             The entity that will own the element after the operation.</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element to be added to the ownership structure of the owner.</span>
<span class="sd">        change_ownership (bool, optional):</span>
<span class="sd">             A flag to indicate if the ownership should be changed if the element already has an owner. Defaults to `False`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError:</span>
<span class="sd">             If the element already has an owner and `change_ownership` is `False`.</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">element_owner</span> <span class="o">=</span> <span class="n">owner_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">element_owner</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">change_ownership</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;element </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> already has an owner&quot;</span><span class="p">)</span>
        <span class="n">remove_owned_element_from</span><span class="p">(</span><span class="n">element_owner</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
    <span class="n">set_owner</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">owner</span><span class="p">)</span>
    <span class="n">owner</span><span class="o">.</span><span class="n">__owned_elements__</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">id_of</span><span class="p">(</span><span class="n">element</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.remove_owned_element_from" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">remove_owned_element_from</span><span class="p">(</span><span class="n">owner</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">disassociate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Removes an owned element from its owner and optionally disassociates related elements.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>owner</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The owner object from which to remove the element.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element to be removed from the owner.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>disassociate</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Flag that indicates whether to disassociate the
element from related elements. Defaults to False.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>ElementType</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element that was removed.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the element is not owned by the given owner.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">remove_owned_element_from</span><span class="p">(</span>
    <span class="n">owner</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">disassociate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ElementType</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes an owned element from its owner and optionally disassociates related elements.</span>

<span class="sd">    Args:</span>
<span class="sd">        owner (ElementType):</span>
<span class="sd">             The owner object from which to remove the element.</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element to be removed from the owner.</span>
<span class="sd">        disassociate (bool, optional):</span>
<span class="sd">             Flag that indicates whether to disassociate the</span>
<span class="sd">            element from related elements. Defaults to False.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ElementType:</span>
<span class="sd">             The element that was removed.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError:</span>
<span class="sd">             If the element is not owned by the given owner.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">element_id</span> <span class="o">=</span> <span class="n">id_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">owner_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span> <span class="o">!=</span> <span class="n">owner</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;element </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> is not owned by </span><span class="si">{</span><span class="n">owner</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">disassociate</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">associations_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">remove_association_from</span><span class="p">(</span><span class="n">owner</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
    <span class="n">owner</span><span class="o">.</span><span class="n">__owned_elements__</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">element_id</span><span class="p">)</span>
    <span class="n">element</span><span class="o">.</span><span class="n">__owner__</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">element</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.add_association_to" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_association_to</span><span class="p">(</span><span class="n">owner</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Adds an association to an owner element with a reference to another element by its unique identifier.
The association is recorded in the owner's <code>__associations__</code> dictionary, with the
name as the key and the unique identifier of the element as the value.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>owner</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element that will hold the association.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element to which the owner element will be associated.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The key under which the association is stored. If not provided,
a default or an implicit name should be determined in other parts of the codebase.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>AttributeError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the owner does not have an <code>__associations__</code> attribute.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_association_to</span><span class="p">(</span><span class="n">owner</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds an association to an owner element with a reference to another element by its unique identifier.</span>
<span class="sd">    The association is recorded in the owner&#39;s `__associations__` dictionary, with the</span>
<span class="sd">    name as the key and the unique identifier of the element as the value.</span>

<span class="sd">    Args:</span>
<span class="sd">        owner (ElementType):</span>
<span class="sd">             The element that will hold the association.</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element to which the owner element will be associated.</span>
<span class="sd">        name (str, optional):</span>
<span class="sd">             The key under which the association is stored. If not provided,</span>
<span class="sd">            a default or an implicit name should be determined in other parts of the codebase.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AttributeError:</span>
<span class="sd">             If the owner does not have an `__associations__` attribute.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">owner</span><span class="o">.</span><span class="n">__associations__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">id_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.remove_association_from" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">remove_association_from</span><span class="p">(</span><span class="n">owner</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Removes the association between two ElementType objects.
This function iterates over the associations of the 'owner' ElementType,
comparing each associated element to the 'element' argument. If a match is found,
the association is removed from the 'owner' by deleting the association entry.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>owner</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The ElementType object from which the association is to be removed.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The ElementType object which is to be disassociated from the owner.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>None</code></td>          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The function doesn't return anything.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">remove_association_from</span><span class="p">(</span><span class="n">owner</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes the association between two ElementType objects.</span>
<span class="sd">    This function iterates over the associations of the &#39;owner&#39; ElementType,</span>
<span class="sd">    comparing each associated element to the &#39;element&#39; argument. If a match is found,</span>
<span class="sd">    the association is removed from the &#39;owner&#39; by deleting the association entry.</span>

<span class="sd">    Args:</span>
<span class="sd">        owner (ElementType):</span>
<span class="sd">             The ElementType object from which the association is to be removed.</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The ElementType object which is to be disassociated from the owner.</span>

<span class="sd">    Returns:</span>
<span class="sd">        None:</span>
<span class="sd">             The function doesn&#39;t return anything.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">associations_of</span><span class="p">(</span><span class="n">owner</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">element</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">owner</span><span class="o">.</span><span class="n">__associations__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.associations_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">associations_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Retrieves the associations of a given ElementType object.
This function takes an ElementType object and returns a dictionary where the keys are the names of the associated elements, and the values are the associated ElementType instances. It works by iterating over the element's <code>__associations__</code> attribute which contains a mapping of names to element IDs, and uses the <code>__all_elements__</code> mapping attribute of the element to obtain the actual ElementType instances.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The ElementType object whose associations are to be retrieved.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>dict[str, <a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>dict[str, ElementType]:
 A dictionary mapping names to ElementType instances representing the associations of the provided element.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">associations_of</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ElementType</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves the associations of a given ElementType object.</span>
<span class="sd">    This function takes an ElementType object and returns a dictionary where the keys are the names of the associated elements, and the values are the associated ElementType instances. It works by iterating over the element&#39;s `__associations__` attribute which contains a mapping of names to element IDs, and uses the `__all_elements__` mapping attribute of the element to obtain the actual ElementType instances.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The ElementType object whose associations are to be retrieved.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, ElementType]:</span>
<span class="sd">             A dictionary mapping names to ElementType instances representing the associations of the provided element.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">element</span><span class="o">.</span><span class="n">__all_elements__</span><span class="p">[</span><span class="n">element_id</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">element_id</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">__associations__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.associations_for" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">associations_for</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">associated</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Retrieves a dictionary of associations between two elements of specified types.
This function searches within the given 'element's associations, identifying and
returning associations where the associated element has the same id as
the 'associated' element. Each matching association is stored in the dictionary
with the association name as the key and the corresponding element as the value.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element from which associations will be searched.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>associated</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element whose id is used to find matching associations.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>dict[str, <a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>dict[str, ElementType]:
 A dictionary where each key is the name of the
association, and each value is the <code>ElementType</code> instance associated with
the 'associated' element's id.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">associations_for</span><span class="p">(</span>
    <span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">associated</span><span class="p">:</span> <span class="n">ElementType</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ElementType</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves a dictionary of associations between two elements of specified types.</span>
<span class="sd">    This function searches within the given &#39;element&#39;s associations, identifying and</span>
<span class="sd">    returning associations where the associated element has the same id as</span>
<span class="sd">    the &#39;associated&#39; element. Each matching association is stored in the dictionary</span>
<span class="sd">    with the association name as the key and the corresponding element as the value.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element from which associations will be searched.</span>
<span class="sd">        associated (ElementType):</span>
<span class="sd">             The element whose id is used to find matching associations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, ElementType]:</span>
<span class="sd">             A dictionary where each key is the name of the</span>
<span class="sd">            association, and each value is the `ElementType` instance associated with</span>
<span class="sd">            the &#39;associated&#39; element&#39;s id.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">element</span><span class="o">.</span><span class="n">__all_elements__</span><span class="p">[</span><span class="n">element_id</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">element_id</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">__associations__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">element_id</span> <span class="o">==</span> <span class="n">id_of</span><span class="p">(</span><span class="n">associated</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.name_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">name_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Gets the name of a given element.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element whose name is to be retrieved. This can be an instance or a class.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the element. If 'element' is a class, it returns the name of the class. If 'element' is an instance of a class, it returns the name of the instance's class.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">name_of</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gets the name of a given element.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element whose name is to be retrieved. This can be an instance or a class.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str:</span>
<span class="sd">             The name of the element. If &#39;element&#39; is a class, it returns the name of the class. If &#39;element&#39; is an instance of a class, it returns the name of the instance&#39;s class.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="k">else</span> <span class="n">element</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.attributes_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">attributes_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Retrieves the annotations of the attributes from a given ElementType object.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The object whose attribute annotations we want to obtain.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>dict[str, typing.Any]:
 A dictionary where the keys are the names of the attributes and the values are the corresponding annotations.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">attributes_of</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves the annotations of the attributes from a given ElementType object.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The object whose attribute annotations we want to obtain.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict[str, typing.Any]:</span>
<span class="sd">             A dictionary where the keys are the names of the attributes and the values are the corresponding annotations.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="vm">__annotations__</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.qualified_name_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Determines the fully qualified name of the provided <code>element</code> by traversing its ownership hierarchy.
This function ascertains the complete dotted path name of the element starting from the top-level owner down to the element itself. This is useful for identifying elements within a nested structure with their full context.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element for which to determine the qualified name. The ElementType is
a type that is assumed to have <code>__name__</code> and <code>__owner__</code> attributes or a way to identify its
owner and its container.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A string representing the fully qualified name of the element.
The function first identifies the owner of the element, then recursively constructs the qualified name
by prepending the name of the owner (if any) followed by a dot and then the name of the element itself.
If the element does not have an owner, the function simply returns the name of the element.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">qualified_name_of</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines the fully qualified name of the provided `element` by traversing its ownership hierarchy.</span>
<span class="sd">    This function ascertains the complete dotted path name of the element starting from the top-level owner down to the element itself. This is useful for identifying elements within a nested structure with their full context.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element for which to determine the qualified name. The ElementType is</span>
<span class="sd">            a type that is assumed to have `__name__` and `__owner__` attributes or a way to identify its</span>
<span class="sd">            owner and its container.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str:</span>
<span class="sd">             A string representing the fully qualified name of the element.</span>
<span class="sd">            The function first identifies the owner of the element, then recursively constructs the qualified name</span>
<span class="sd">            by prepending the name of the owner (if any) followed by a dot and then the name of the element itself.</span>
<span class="sd">            If the element does not have an owner, the function simply returns the name of the element.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">owner_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">owner</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">name_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">owner</span><span class="p">)</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">name_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.is_type" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_type</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">types</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Determines if an element is of a given type or types.
This function checks if the provided element is either an instance of, or a subclass of,
the given type or types. It supports checking against a single type or a collection
of types. If multiple types are provided, the function will return True if the element
matches any one of the types.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element to check.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>types</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[type, <span title="typing.Collection">Collection</span>[type]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A single type or a collection of types
against which to check the element.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if the element is an instance of one of the types or is a subclass of one
of the types, otherwise False.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_type</span><span class="p">(</span>
    <span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">type</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">type</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines if an element is of a given type or types.</span>
<span class="sd">    This function checks if the provided element is either an instance of, or a subclass of,</span>
<span class="sd">    the given type or types. It supports checking against a single type or a collection</span>
<span class="sd">    of types. If multiple types are provided, the function will return True if the element</span>
<span class="sd">    matches any one of the types.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element to check.</span>
<span class="sd">        types (typing.Union[type, typing.Collection[type]]):</span>
<span class="sd">             A single type or a collection of types</span>
<span class="sd">            against which to check the element.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool:</span>
<span class="sd">             True if the element is an instance of one of the types or is a subclass of one</span>
<span class="sd">            of the types, otherwise False.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="nb">issubclass</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">types</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span>
        <span class="k">else</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">types</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.is_subtype" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_subtype</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">types</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Determines if a given element type is a subtype of specified types.
This function checks if the provided <code>element</code> is not exactly one of the <code>types</code> and subsequently verifies if it is a subclass or an instance of the given <code>types</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element or type to check.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>types</code></td>
          <td>
                <code><span title="stateforward.core.Union">Union</span>[type, <a class="autorefs autorefs-internal" title="stateforward.model.collection.Collection" href="../Collection/#stateforward.model.collection.Collection">Collection</a>[type]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A single type or a collection of types to compare with the <code>element</code>.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if <code>element</code> is a subtype of any of the given <code>types</code>, otherwise False.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
      <p>Note:</p>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_subtype</span><span class="p">(</span>
    <span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">type</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">type</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines if a given element type is a subtype of specified types.</span>
<span class="sd">    This function checks if the provided `element` is not exactly one of the `types` and subsequently verifies if it is a subclass or an instance of the given `types`.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element or type to check.</span>
<span class="sd">        types (Union[type, Collection[type]]):</span>
<span class="sd">             A single type or a collection of types to compare with the `element`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool:</span>
<span class="sd">             True if `element` is a subtype of any of the given `types`, otherwise False.</span>

<span class="sd">    Note:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">is_element</span><span class="p">(</span><span class="n">types</span><span class="p">):</span>
        <span class="n">types</span> <span class="o">=</span> <span class="p">(</span><span class="n">types</span><span class="p">,)</span>
    <span class="k">return</span> <span class="n">element</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">types</span> <span class="ow">and</span> <span class="n">is_type</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">types</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.is_element" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_element</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Determines whether a given value is an instance of the Element type or a subtype thereof.
This function checks if the provided value is an instance of Element or any class derived from Element.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>value</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The value to be checked.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if 'value' is an instance of Element or a derived class, otherwise False.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_element</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines whether a given value is an instance of the Element type or a subtype thereof.</span>
<span class="sd">    This function checks if the provided value is an instance of Element or any class derived from Element.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (typing.Any):</span>
<span class="sd">             The value to be checked.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool:</span>
<span class="sd">             True if &#39;value&#39; is an instance of Element or a derived class, otherwise False.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">is_type</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Element</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.owner_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">owner_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Determines the owner of a given element.
The function checks if the provided 'element' is an instance of the Element type and retrieves its owner attribute. If the element is not an instance of Element, it attempts to look up the owner in the element's '<strong>all_elements</strong>' dictionary using the element's '<strong>owner</strong>' attribute as the key. The function then returns the owner of the element.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element for which the owner is to be determined.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>ElementType</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The owner of the provided element. If the element is an instance of the Element type, returns the value of its <strong>owner</strong> attribute. If not, returns the corresponding value from the element's '<strong>all_elements</strong>' dictionary for the key '<strong>owner</strong>'.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>AttributeError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If '<strong>owner</strong>' or '<strong>all_elements</strong>' attributes do not exist on the provided element.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">owner_of</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ElementType</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines the owner of a given element.</span>
<span class="sd">    The function checks if the provided &#39;element&#39; is an instance of the Element type and retrieves its owner attribute. If the element is not an instance of Element, it attempts to look up the owner in the element&#39;s &#39;__all_elements__&#39; dictionary using the element&#39;s &#39;__owner__&#39; attribute as the key. The function then returns the owner of the element.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element for which the owner is to be determined.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ElementType:</span>
<span class="sd">             The owner of the provided element. If the element is an instance of the Element type, returns the value of its __owner__ attribute. If not, returns the corresponding value from the element&#39;s &#39;__all_elements__&#39; dictionary for the key &#39;__owner__&#39;.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AttributeError:</span>
<span class="sd">             If &#39;__owner__&#39; or &#39;__all_elements__&#39; attributes do not exist on the provided element.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">element</span><span class="o">.</span><span class="n">__owner__</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">Element</span><span class="p">)</span>
        <span class="k">else</span> <span class="n">element</span><span class="o">.</span><span class="n">__all_elements__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">__owner__</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.redefined_element_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">redefined_element_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Retrieves the redefined element from the given element object.
This function fetches the '<strong>redefined_element</strong>' attribute from the element passed to it. It expects a
predefined attribute '<strong>redefined_element</strong>' to be present on the 'element' which is the redefined version of the element.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element from which the redefined version will be retrieved.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>ElementType</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The redefined version of the element.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>AttributeError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the element does not have '<strong>redefined_element</strong>' attribute.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">redefined_element_of</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ElementType</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves the redefined element from the given element object.</span>
<span class="sd">    This function fetches the &#39;__redefined_element__&#39; attribute from the element passed to it. It expects a</span>
<span class="sd">    predefined attribute &#39;__redefined_element__&#39; to be present on the &#39;element&#39; which is the redefined version of the element.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element from which the redefined version will be retrieved.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ElementType:</span>
<span class="sd">             The redefined version of the element.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AttributeError:</span>
<span class="sd">             If the element does not have &#39;__redefined_element__&#39; attribute.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="n">__redefined_element__</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.is_owner_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_owner_of</span><span class="p">(</span><span class="n">owner</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Determines if the provided 'owner' is the owner of the 'element'.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>owner</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The potential owner whose ownership is being checked.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element for which ownership is being verified.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if 'owner' is the owner of 'element', otherwise False.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_owner_of</span><span class="p">(</span><span class="n">owner</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines if the provided &#39;owner&#39; is the owner of the &#39;element&#39;.</span>

<span class="sd">    Args:</span>
<span class="sd">        owner (ElementType):</span>
<span class="sd">             The potential owner whose ownership is being checked.</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element for which ownership is being verified.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool:</span>
<span class="sd">             True if &#39;owner&#39; is the owner of &#39;element&#39;, otherwise False.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">owner_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span> <span class="o">==</span> <span class="n">owner</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.specialize" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">specialize</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">derived</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Specializes the given base ElementType by deriving a new ElementType with properties and associations of the base type adjusted for the derived type.
This function works by iterating through the owned elements of the base ElementType and creating a new owned element for each of them within the derived ElementType with redefinitions as needed. Associations within the base ElementType are also remapped to corresponding elements within the derived ElementType. If the base ElementType has no owner, a mapping is established between the base elements and the new elements, and associations are adapted accordingly.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>base</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The base element type from which the new derived type will be created.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>derived</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The new element type that will inherit and specialize from the base type.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Additional keyword arguments (unused).</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>None</code></td>          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The function performs in-place specialization and does not return any value.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">specialize</span><span class="p">(</span><span class="n">base</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="n">derived</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Specializes the given base ElementType by deriving a new ElementType with properties and associations of the base type adjusted for the derived type.</span>
<span class="sd">    This function works by iterating through the owned elements of the base ElementType and creating a new owned element for each of them within the derived ElementType with redefinitions as needed. Associations within the base ElementType are also remapped to corresponding elements within the derived ElementType. If the base ElementType has no owner, a mapping is established between the base elements and the new elements, and associations are adapted accordingly.</span>

<span class="sd">    Args:</span>
<span class="sd">        base (ElementType):</span>
<span class="sd">             The base element type from which the new derived type will be created.</span>
<span class="sd">        derived (ElementType):</span>
<span class="sd">             The new element type that will inherit and specialize from the base type.</span>
<span class="sd">        **kwargs:</span>
<span class="sd">             Additional keyword arguments (unused).</span>

<span class="sd">    Returns:</span>
<span class="sd">        None:</span>
<span class="sd">             The function performs in-place specialization and does not return any value.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># we have to create copies of the base core during inheritance</span>
    <span class="c1"># loop through base owned element mapping</span>
    <span class="k">for</span> <span class="n">owned_element_id</span> <span class="ow">in</span> <span class="n">base</span><span class="o">.</span><span class="n">__owned_elements__</span><span class="p">:</span>
        <span class="c1"># get the owned element</span>
        <span class="n">owned_element</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">__all_elements__</span><span class="p">[</span><span class="n">owned_element_id</span><span class="p">]</span>
        <span class="c1"># create a new owned element</span>
        <span class="n">new_owned_element</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span>
            <span class="n">ElementType</span><span class="p">,</span>
            <span class="n">types</span><span class="o">.</span><span class="n">new_class</span><span class="p">(</span>
                <span class="n">owned_element</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">(</span><span class="n">owned_element</span><span class="p">,),</span>
                <span class="p">{</span>
                    <span class="s2">&quot;redefined_element&quot;</span><span class="p">:</span> <span class="n">base</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="n">add_owned_element_to</span><span class="p">(</span><span class="n">derived</span><span class="p">,</span> <span class="n">new_owned_element</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">owner_of</span><span class="p">(</span><span class="n">base</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">base_elements</span> <span class="o">=</span> <span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="o">*</span><span class="n">descendants_of</span><span class="p">(</span><span class="n">base</span><span class="p">))</span>
        <span class="n">new_elements</span> <span class="o">=</span> <span class="p">(</span><span class="n">derived</span><span class="p">,</span> <span class="o">*</span><span class="n">descendants_of</span><span class="p">(</span><span class="n">derived</span><span class="p">))</span>
        <span class="n">element_map</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="p">(</span><span class="n">id_of</span><span class="p">(</span><span class="n">base</span><span class="p">),</span> <span class="n">id_of</span><span class="p">(</span><span class="n">derived</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">derived</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">base_elements</span><span class="p">,</span> <span class="n">new_elements</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">element</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">base_elements</span><span class="p">):</span>
            <span class="n">new_element</span> <span class="o">=</span> <span class="n">new_elements</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">element_id</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">__associations__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">associated_id</span> <span class="o">=</span> <span class="n">new_element</span><span class="o">.</span><span class="n">__associations__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">element_map</span><span class="p">[</span>
                    <span class="n">element_id</span>
                <span class="p">]</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="n">new_element</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">new_element</span><span class="o">.</span><span class="n">__all_elements__</span><span class="p">[</span><span class="n">associated_id</span><span class="p">])</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.is_redefined" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">is_redefined</span><span class="p">(</span><span class="n">element</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Determines if the provided element has been redefined.
This function checks whether the element passed to it has a redefined counterpart by calling the 'redefined_element_of' function and
inspecting if the returned value is not None.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element to check for a redefinition.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if the element has been redefined, False otherwise.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_redefined</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines if the provided element has been redefined.</span>
<span class="sd">    This function checks whether the element passed to it has a redefined counterpart by calling the &#39;redefined_element_of&#39; function and</span>
<span class="sd">    inspecting if the returned value is not None.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element to check for a redefinition.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool:</span>
<span class="sd">             True if the element has been redefined, False otherwise.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">redefined_element_of</span><span class="p">(</span><span class="n">element</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.redefine" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">redefine</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Redefines an existing element by creating a new subclass with additional properties.
The <code>redefine</code> function takes an existing class or type (referred to as <code>element</code>) and returns a new class that is a subclass of the given <code>element</code>. This subclass can incorporate additional properties that are passed to the function as keyword arguments (<code>**kwargs</code>). The original class/type is also stored as an attribute <code>redefined_element</code> in the newly created subclass.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The original class or type that is to be redefined into a new subclass.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Arbitrary keyword arguments that represent additional properties to be included in the new subclass.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>ElementType</code></td>          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new subclass of the provided <code>element</code>, with added keyword arguments as attributes.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">redefine</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Redefines an existing element by creating a new subclass with additional properties.</span>
<span class="sd">    The `redefine` function takes an existing class or type (referred to as `element`) and returns a new class that is a subclass of the given `element`. This subclass can incorporate additional properties that are passed to the function as keyword arguments (`**kwargs`). The original class/type is also stored as an attribute `redefined_element` in the newly created subclass.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The original class or type that is to be redefined into a new subclass.</span>
<span class="sd">        **kwargs:</span>
<span class="sd">             Arbitrary keyword arguments that represent additional properties to be included in the new subclass.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ElementType:</span>
<span class="sd">             A new subclass of the provided `element`, with added keyword arguments as attributes.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span>
        <span class="n">ElementType</span><span class="p">,</span>
        <span class="n">types</span><span class="o">.</span><span class="n">new_class</span><span class="p">(</span>
            <span class="n">name_of</span><span class="p">(</span><span class="n">element</span><span class="p">),</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;bases&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">element</span><span class="p">,)),</span>
            <span class="p">{</span>
                <span class="s2">&quot;redefined_element&quot;</span><span class="p">:</span> <span class="n">element</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">),</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.find_owned_elements_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">find_owned_elements_of</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">condition</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Generates elements owned by a given element that meet a specified condition.
This generator function iterates through elements owned by the provided <code>element</code> and yields each owned element that satisfies the <code>condition</code> function. The <code>condition</code> function should take an <code>ElementType</code> as its argument and return a boolean indicating whether the element meets the desired criteria.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element whose owned elements are to be examined.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>condition</code></td>
          <td>
                <code><span title="stateforward.core.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a>], bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A function that takes an <code>ElementType</code> as an argument and returns True if the element satisfies the condition; otherwise, False.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Generator">Generator</span>[<a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a>, None, None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Generator[ElementType, None, None]:
 A generator yielding owned elements of the provided <code>element</code> that satisfy the <code>condition</code>.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find_owned_elements_of</span><span class="p">(</span>
    <span class="n">element</span><span class="p">:</span> <span class="s2">&quot;ElementType&quot;</span><span class="p">,</span> <span class="n">condition</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;ElementType&quot;</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Generator</span><span class="p">[</span><span class="s2">&quot;ElementType&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates elements owned by a given element that meet a specified condition.</span>
<span class="sd">    This generator function iterates through elements owned by the provided `element` and yields each owned element that satisfies the `condition` function. The `condition` function should take an `ElementType` as its argument and return a boolean indicating whether the element meets the desired criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element whose owned elements are to be examined.</span>
<span class="sd">        condition (Callable[[ElementType], bool]):</span>
<span class="sd">             A function that takes an `ElementType` as an argument and returns True if the element satisfies the condition; otherwise, False.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator[ElementType, None, None]:</span>
<span class="sd">             A generator yielding owned elements of the provided `element` that satisfy the `condition`.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">owned_element</span> <span class="ow">in</span> <span class="n">owned_elements_of</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">condition</span><span class="p">(</span><span class="n">owned_element</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">owned_element</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.find_owned_element_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">find_owned_element_of</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">condition</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Finds the first element within a given element's ownership hierarchy that satisfies a specified condition.
This function traverses the ownership structure of the provided element to locate the first child or descendant
that meets the criteria defined by the <code>condition</code> callable. If such an element is found, it is returned;
otherwise, the function returns <code>None</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element from which the search for owned elements should begin.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>condition</code></td>
          <td>
                <code><span title="stateforward.core.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a>], bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A function that takes an element of type <code>ElementType</code> as a single argument
and returns a boolean value. The function should return <code>True</code> for an element that fulfills the
search criteria and <code>False</code> otherwise.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional[ElementType]:
 The first element that satisfies the condition, or <code>None</code> if no matching element is found.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find_owned_element_of</span><span class="p">(</span>
    <span class="n">element</span><span class="p">:</span> <span class="s2">&quot;ElementType&quot;</span><span class="p">,</span> <span class="n">condition</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;ElementType&quot;</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ElementType&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Finds the first element within a given element&#39;s ownership hierarchy that satisfies a specified condition.</span>
<span class="sd">    This function traverses the ownership structure of the provided element to locate the first child or descendant</span>
<span class="sd">    that meets the criteria defined by the `condition` callable. If such an element is found, it is returned;</span>
<span class="sd">    otherwise, the function returns `None`.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element from which the search for owned elements should begin.</span>
<span class="sd">        condition (Callable[[ElementType], bool]):</span>
<span class="sd">             A function that takes an element of type `ElementType` as a single argument</span>
<span class="sd">            and returns a boolean value. The function should return `True` for an element that fulfills the</span>
<span class="sd">            search criteria and `False` otherwise.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Optional[ElementType]:</span>
<span class="sd">             The first element that satisfies the condition, or `None` if no matching element is found.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="n">find_owned_elements_of</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">condition</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.find_ancestors_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">find_ancestors_of</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">condition</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Generates a sequence of ancestor elements of a given element that satisfy a specified condition.
This generator function traverses the ancestor hierarchy of the provided element, testing each ancestor against a condition function.
It yields each ancestor element that meets the criteria defined by the condition function. The traversal continues until the root of the hierarchy is reached or the generator is exhausted.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element whose ancestors are to be found.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>condition</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a>], bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A callable that takes an element as its single argument
and returns a boolean indicating whether the element meets the desired condition.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Yields:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>ElementType</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ancestors of the initial element that satisfy the condition.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find_ancestors_of</span><span class="p">(</span>
    <span class="n">element</span><span class="p">:</span> <span class="s2">&quot;ElementType&quot;</span><span class="p">,</span> <span class="n">condition</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;ElementType&quot;</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Generator</span><span class="p">[</span><span class="s2">&quot;ElementType&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates a sequence of ancestor elements of a given element that satisfy a specified condition.</span>
<span class="sd">    This generator function traverses the ancestor hierarchy of the provided element, testing each ancestor against a condition function.</span>
<span class="sd">    It yields each ancestor element that meets the criteria defined by the condition function. The traversal continues until the root of the hierarchy is reached or the generator is exhausted.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element whose ancestors are to be found.</span>
<span class="sd">        condition (typing.Callable[[ElementType], bool]):</span>
<span class="sd">             A callable that takes an element as its single argument</span>
<span class="sd">            and returns a boolean indicating whether the element meets the desired condition.</span>

<span class="sd">    Yields:</span>
<span class="sd">        ElementType:</span>
<span class="sd">             Ancestors of the initial element that satisfy the condition.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">ancestors_of</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">condition</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">element</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.find_ancestor_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">find_ancestor_of</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">expr</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Finds the first ancestor of a specified element that matches a given condition.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element from which to begin the search for an ancestor.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>expr</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a>], bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A function that takes an element as an argument and returns True if the element matches the condition, False otherwise.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>typing.Optional['ElementType']:
 The first ancestor element that matches the condition specified by expr. If no matching ancestor is found, returns None.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find_ancestor_of</span><span class="p">(</span>
    <span class="n">element</span><span class="p">:</span> <span class="s2">&quot;ElementType&quot;</span><span class="p">,</span> <span class="n">expr</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;ElementType&quot;</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ElementType&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Finds the first ancestor of a specified element that matches a given condition.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element from which to begin the search for an ancestor.</span>
<span class="sd">        expr (typing.Callable[[&#39;ElementType&#39;], bool]):</span>
<span class="sd">             A function that takes an element as an argument and returns True if the element matches the condition, False otherwise.</span>

<span class="sd">    Returns:</span>
<span class="sd">        typing.Optional[&#39;ElementType&#39;]:</span>
<span class="sd">             The first ancestor element that matches the condition specified by expr. If no matching ancestor is found, returns None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="n">find_ancestors_of</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">expr</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.find_descendants_of" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">find_descendants_of</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">condition</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Finds and yields descendants of a given element that satisfy a specified condition.
This generator function traverses through the descendants of the provided element, checking each one
against the given condition function. If a descendant meets the condition, it is yielded.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element whose descendants will be checked.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>condition</code></td>
          <td>
                <code><span title="stateforward.core.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a>], bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A function that takes an element as its argument
and returns True if the element satisfies the condition, otherwise False.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Yields:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>ElementType</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The next descendant of 'element' that satisfies the 'condition'.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find_descendants_of</span><span class="p">(</span>
    <span class="n">element</span><span class="p">:</span> <span class="s2">&quot;ElementType&quot;</span><span class="p">,</span>
    <span class="n">condition</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;ElementType&quot;</span><span class="p">],</span> <span class="nb">bool</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Generator</span><span class="p">[</span><span class="s2">&quot;ElementType&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Finds and yields descendants of a given element that satisfy a specified condition.</span>
<span class="sd">    This generator function traverses through the descendants of the provided element, checking each one</span>
<span class="sd">    against the given condition function. If a descendant meets the condition, it is yielded.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The element whose descendants will be checked.</span>
<span class="sd">        condition (Callable[[ElementType], bool]):</span>
<span class="sd">             A function that takes an element as its argument</span>
<span class="sd">            and returns True if the element satisfies the condition, otherwise False.</span>

<span class="sd">    Yields:</span>
<span class="sd">        ElementType:</span>
<span class="sd">             The next descendant of &#39;element&#39; that satisfies the &#39;condition&#39;.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">descendants_of</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">condition</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">element</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.set_attribute" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Sets an attribute for an ElementType object with special handling for Element objects.
This method sets an attribute on an ElementType object with the given name and value. If the value is an Element,
additional steps are taken to manage ownership and associations. If the Element is not owned by any ElementType, or if
it's a descendant of 'element' and it doesn't belong to a different model, it will be added to 'element's owned
elements. Furthermore, an association between 'element' and the value is established using the name as the key.
If the provided value is not an Element, the attribute is simply set on 'element' with the provided name and value.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.model.element.ElementType" href="#stateforward.model.element.ElementType">ElementType</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The ElementType object to which the attribute should be set.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the attribute to be set.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>value</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The value to be assigned to the attribute. If an Element, ownership and
association logic applies.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the Element value is owned by a different model and is not a descendant
of 'element', or if any ownership related issues are encountered.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_attribute</span><span class="p">(</span>
    <span class="n">element</span><span class="p">:</span> <span class="n">ElementType</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets an attribute for an ElementType object with special handling for Element objects.</span>
<span class="sd">    This method sets an attribute on an ElementType object with the given name and value. If the value is an Element,</span>
<span class="sd">    additional steps are taken to manage ownership and associations. If the Element is not owned by any ElementType, or if</span>
<span class="sd">    it&#39;s a descendant of &#39;element&#39; and it doesn&#39;t belong to a different model, it will be added to &#39;element&#39;s owned</span>
<span class="sd">    elements. Furthermore, an association between &#39;element&#39; and the value is established using the name as the key.</span>
<span class="sd">    If the provided value is not an Element, the attribute is simply set on &#39;element&#39; with the provided name and value.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (ElementType):</span>
<span class="sd">             The ElementType object to which the attribute should be set.</span>
<span class="sd">        name (str):</span>
<span class="sd">             The name of the attribute to be set.</span>
<span class="sd">        value (typing.Any):</span>
<span class="sd">             The value to be assigned to the attribute. If an Element, ownership and</span>
<span class="sd">            association logic applies.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError:</span>
<span class="sd">             If the Element value is owned by a different model and is not a descendant</span>
<span class="sd">            of &#39;element&#39;, or if any ownership related issues are encountered.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">is_element</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
        <span class="n">value_id</span> <span class="o">=</span> <span class="n">id_of</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">__owned_elements__</span><span class="p">:</span>
            <span class="n">owner</span> <span class="o">=</span> <span class="n">owner_of</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="n">change_ownership</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">owner</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">is_descendant_of</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">owner</span><span class="p">)</span>
            <span class="p">)</span> <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">__model__</span> <span class="o">!=</span> <span class="n">id_of</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">change_ownership</span><span class="p">:</span>
                <span class="n">add_owned_element_to</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">change_ownership</span><span class="o">=</span><span class="n">change_ownership</span><span class="p">)</span>
        <span class="n">add_association_to</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="nb">setattr</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="stateforward.model.element.new" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Creates a new class with the given name, optional base classes, and any additional keyword arguments.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the new class.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>bases</code></td>
          <td>
                <code><span title="typing.Collection">Collection</span>[type]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional collection of base classes for the new class. Defaults to a tuple only containing Element.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>**kwargs</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Arbitrary keyword arguments that will be included as class attributes.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>type[<span title="stateforward.model.element.T">T</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>type[T]:
 A new class of type T that is derived from the specified base classes and includes the provided keyword arguments as class attributes.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/element.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">new</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">type</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">type</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a new class with the given name, optional base classes, and any additional keyword arguments.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str):</span>
<span class="sd">             The name of the new class.</span>
<span class="sd">        bases (typing.Collection[type], optional):</span>
<span class="sd">             An optional collection of base classes for the new class. Defaults to a tuple only containing Element.</span>
<span class="sd">        **kwargs:</span>
<span class="sd">             Arbitrary keyword arguments that will be included as class attributes.</span>

<span class="sd">    Returns:</span>
<span class="sd">        type[T]:</span>
<span class="sd">             A new class of type T that is derived from the specified base classes and includes the provided keyword arguments as class attributes.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span>
        <span class="nb">type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span>
        <span class="n">types</span><span class="o">.</span><span class="n">new_class</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="n">bases</span> <span class="ow">or</span> <span class="p">(</span><span class="n">Element</span><span class="p">,),</span>
            <span class="p">{</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">),</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.top", "navigation.indexes", "navigation.expand", "search.highlight", "search.suggest", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  </body>
</html>