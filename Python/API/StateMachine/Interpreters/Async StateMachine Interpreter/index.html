
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Async%20Interpreter/">
      
      
        <link rel="next" href="../../../../Examples/Complete%20StateMachine/">
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>Async StateMachine Interpreter - StateForward</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="StateForward" class="md-header__button md-logo" aria-label="StateForward" data-md-component="logo">
      
  <img src="../../../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            StateForward
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Async StateMachine Interpreter
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="StateForward" class="md-nav__button md-logo" aria-label="StateForward" data-md-component="logo">
      
  <img src="../../../../../assets/logo.png" alt="logo">

    </a>
    StateForward
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Roadmap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Roadmap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3_1" >
        
          
          <label class="md-nav__link" for="__nav_2_3_1" id="__nav_2_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1">
            <span class="md-nav__icon md-icon"></span>
            Core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Core/Decorators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decorators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Core/Elements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Elements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Core/Functional/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functional
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3_2" >
        
          
          <label class="md-nav__link" for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Modelling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_2">
            <span class="md-nav__icon md-icon"></span>
            Modelling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modelling/Association/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Association
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modelling/Collection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modelling/Decorators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decorators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modelling/Element/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Element
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modelling/Model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modelling/Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modelling/Preprocessor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preprocessor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modelling/Validator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modelling/Visitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visitor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3_3" id="__nav_2_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Protocols
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            Protocols
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Protocols/Clock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Protocols/Future/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Future
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Protocols/Interpreter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interpreter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Protocols/Logger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logger
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../Protocols/Queue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Queue
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3_4" id="__nav_2_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    StateMachine
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3_4">
            <span class="md-nav__icon md-icon"></span>
            StateMachine
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Clock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Elements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Elements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Preprocessor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preprocessor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_4_5" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3_4_5" id="__nav_2_3_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interpreters
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_4_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3_4_5">
            <span class="md-nav__icon md-icon"></span>
            Interpreters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Async%20Behavior%20Interpreter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Async Behavior Interpreter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Async%20Interpreter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Async Interpreter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Async StateMachine Interpreter
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Async StateMachine Interpreter
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter" class="md-nav__link">
    AsyncStateMachineInterpreter
  </a>
  
    <nav class="md-nav" aria-label="AsyncStateMachineInterpreter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_change_event_entry" class="md-nav__link">
    exec_change_event_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_change_event_wait" class="md-nav__link">
    exec_change_event_wait()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_completion_event_entry" class="md-nav__link">
    exec_completion_event_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_completion_event_wait" class="md-nav__link">
    exec_completion_event_wait()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_constraint_evaluate" class="md-nav__link">
    exec_constraint_evaluate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_constraint_evaluate_condition" class="md-nav__link">
    exec_constraint_evaluate_condition()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_event_entry" class="md-nav__link">
    exec_event_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_event_exit" class="md-nav__link">
    exec_event_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_event_processing" class="md-nav__link">
    exec_event_processing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_final_state_entry" class="md-nav__link">
    exec_final_state_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_pseudostate_entry" class="md-nav__link">
    exec_pseudostate_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_pseudostate_exit" class="md-nav__link">
    exec_pseudostate_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_region_entry" class="md-nav__link">
    exec_region_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_region_exit" class="md-nav__link">
    exec_region_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_region_processing" class="md-nav__link">
    exec_region_processing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_entry" class="md-nav__link">
    exec_state_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_exit" class="md-nav__link">
    exec_state_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_machine_entry" class="md-nav__link">
    exec_state_machine_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_machine_exit" class="md-nav__link">
    exec_state_machine_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_processing" class="md-nav__link">
    exec_state_processing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_time_event_entry" class="md-nav__link">
    exec_time_event_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_time_event_wait" class="md-nav__link">
    exec_time_event_wait()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_transition" class="md-nav__link">
    exec_transition()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_transition_entry" class="md-nav__link">
    exec_transition_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_transition_exit" class="md-nav__link">
    exec_transition_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_transition_processing" class="md-nav__link">
    exec_transition_processing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_vertex_entry" class="md-nav__link">
    exec_vertex_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_vertex_exit" class="md-nav__link">
    exec_vertex_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_vertex_processing" class="md-nav__link">
    exec_vertex_processing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.terminate" class="md-nav__link">
    terminate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Examples/Complete%20StateMachine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Complete StateMachine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Examples/LightSwitch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LightSwitch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Examples/Microwave/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Microwave
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Examples/TrafficLight/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TrafficLight
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter" class="md-nav__link">
    AsyncStateMachineInterpreter
  </a>
  
    <nav class="md-nav" aria-label="AsyncStateMachineInterpreter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_change_event_entry" class="md-nav__link">
    exec_change_event_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_change_event_wait" class="md-nav__link">
    exec_change_event_wait()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_completion_event_entry" class="md-nav__link">
    exec_completion_event_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_completion_event_wait" class="md-nav__link">
    exec_completion_event_wait()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_constraint_evaluate" class="md-nav__link">
    exec_constraint_evaluate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_constraint_evaluate_condition" class="md-nav__link">
    exec_constraint_evaluate_condition()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_event_entry" class="md-nav__link">
    exec_event_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_event_exit" class="md-nav__link">
    exec_event_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_event_processing" class="md-nav__link">
    exec_event_processing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_final_state_entry" class="md-nav__link">
    exec_final_state_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_pseudostate_entry" class="md-nav__link">
    exec_pseudostate_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_pseudostate_exit" class="md-nav__link">
    exec_pseudostate_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_region_entry" class="md-nav__link">
    exec_region_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_region_exit" class="md-nav__link">
    exec_region_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_region_processing" class="md-nav__link">
    exec_region_processing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_entry" class="md-nav__link">
    exec_state_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_exit" class="md-nav__link">
    exec_state_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_machine_entry" class="md-nav__link">
    exec_state_machine_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_machine_exit" class="md-nav__link">
    exec_state_machine_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_processing" class="md-nav__link">
    exec_state_processing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_time_event_entry" class="md-nav__link">
    exec_time_event_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_time_event_wait" class="md-nav__link">
    exec_time_event_wait()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_transition" class="md-nav__link">
    exec_transition()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_transition_entry" class="md-nav__link">
    exec_transition_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_transition_exit" class="md-nav__link">
    exec_transition_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_transition_processing" class="md-nav__link">
    exec_transition_processing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_vertex_entry" class="md-nav__link">
    exec_vertex_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_vertex_exit" class="md-nav__link">
    exec_vertex_exit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_vertex_processing" class="md-nav__link">
    exec_vertex_processing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.terminate" class="md-nav__link">
    terminate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Async StateMachine Interpreter</h1>

<div class="doc doc-object doc-module">




  <div class="doc doc-contents first">
  
      <p>The <code>async_state_machine_interpreter</code> module provides an asynchronous interpreter for state machines, capable of handling concurrent state transitions and events within the framework provided by <code>stateforward</code>. It is designed to work with the state machines structured according to the core classes and interfaces from the <code>stateforward</code> library.</p>
<p>The main class in this module is <code>AsyncStateMachineInterpreter</code>, which is an asynchronous interpreter that extends <code>AsyncBehaviorInterpreter</code>. It manages the asynchronous execution of states, transitions, regions, events, and the associated guard conditions and actions defined on a state machine.</p>
<p>Key Functionalities:
- <strong>Event Processing</strong>: Processes events concurrently across different regions of the state machine, handling transitions and state changes.</p>
<ul>
<li>
<p><strong>Activity Execution</strong>: Manages execution of entry, do, and exit activities associated with states.</p>
</li>
<li>
<p><strong>Transition Handling</strong>: Performs transition checks and guards evaluation, executes the effects of transitions, as well as entry and exit actions.</p>
</li>
<li>
<p><strong>State Management</strong>: Handles the entry and exit of states, including composite states, and manages sub-states and regions.</p>
</li>
<li>
<p><strong>Event Management</strong>: Handles the scheduling and management of time events, change events, and completion events.</p>
</li>
<li>
<p><strong>Termination</strong>: Provides a mechanism to terminate the state machine execution.</p>
</li>
</ul>
<p>Architecture Summary:
This module includes a collection of coroutine functions designed to asynchronously execute the different components of a state machine. It uses <code>asyncio</code> to manage asynchronous tasks and employs the <code>gather</code> function to handle concurrency. The interpreters maintain the current state of the machine and execute all states and transitions based on the events received. Error handling is implemented to ensure proper management of invalid transitions and other exceptions.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h2 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter" class="doc doc-heading">
          <code>AsyncStateMachineInterpreter</code>


</h2>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="stateforward.state_machine.interpreters.asynchronous.async_behavior_interpreter.AsyncBehaviorInterpreter" href="../Async%20Behavior%20Interpreter/#stateforward.state_machine.interpreters.asynchronous.async_behavior_interpreter.AsyncBehaviorInterpreter">AsyncBehaviorInterpreter</a>[<span title="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.T">T</span>]</code></p>

  
      <p>An asynchronous interpreter for state machine behavior execution.
This interpreter asynchronously processes events and manages state transitions within a state machine based on a provided model. It handles concurrent entry and exit actions for regions, states, sub-states, and pseudostates, as well as the evaluation and execution of various event kinds such as time events and change events.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>model</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.StateMachine" href="../../../Core/Elements/#stateforward.core.elements.StateMachine">StateMachine</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The state machine model to interpret.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>log</code></td>
          <td>
                <code>Logger</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Logger for debug messages.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>stack</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A tracking structure for the active states and ongoing tasks in the state machine.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Methods:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
          <tr>
            <td><code>exec_event_processing</code></td>
            <td>
              <div class="doc-md-description">
                <p>Processes an individual event for all regions in the state machine.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_region_processing</code></td>
            <td>
              <div class="doc-md-description">
                <p>Processes an event for a specific region within the state machine.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_state_processing</code></td>
            <td>
              <div class="doc-md-description">
                <p>Processes an event for a specific state within the state machine.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_vertex_processing</code></td>
            <td>
              <div class="doc-md-description">
                <p>Processes an event for a specific vertex within the state machine.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_transition_processing</code></td>
            <td>
              <div class="doc-md-description">
                <p>Evaluates and, if conditions are met, executes a transition for an event.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_constraint_evaluate</code></td>
            <td>
              <div class="doc-md-description">
                <p>Evaluates a guard constraint with respect to an event.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_transition</code></td>
            <td>
              <div class="doc-md-description">
                <p>Executes the actions associated with taking a transition, including exit and entry actions where appropriate.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_vertex_exit</code></td>
            <td>
              <div class="doc-md-description">
                <p>Manages the exit actions and clean-up upon leaving a vertex in the state machine.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_vertex_entry</code></td>
            <td>
              <div class="doc-md-description">
                <p>Manages the entry actions and setup when entering a vertex in the state machine.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_region_entry/exit</code></td>
            <td>
              <div class="doc-md-description">
                <p>Handles the entry/exit logic for a region within the state machine.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_state_entry/exit</code></td>
            <td>
              <div class="doc-md-description">
                <p>Manages the entry and exit logic of a state, including executing any associated entry, exit, or activity actions.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_state_machine_entry/exit</code></td>
            <td>
              <div class="doc-md-description">
                <p>Handles the logic for entering and leaving the entire state machine or a sub-state machine.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_pseudostate_entry/exit</code></td>
            <td>
              <div class="doc-md-description">
                <p>Manages the logic for entering and exiting a pseudostate, based on the pseudostate kind.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>exec_event_entry</code></td>
            <td>
              <div class="doc-md-description">
                <p>Wraps the starting of the async event processing in a Task and logs entry.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>run</code></td>
            <td>
              <div class="doc-md-description">
                <p>Initiates the state machine execution by entering the state machine and processing steps.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code>terminate</code></td>
            <td>
              <div class="doc-md-description">
                <p>Handles the orderly shutdown of the state machine, exiting all active regions and states.
This interpreter extends AsyncBehaviorInterpreter, making it capable of dealing with the asynchronous nature of the systems modelled by the state machine.</p>
              </div>
            </td>
          </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AsyncStateMachineInterpreter</span><span class="p">(</span><span class="n">AsyncBehaviorInterpreter</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An asynchronous interpreter for state machine behavior execution.</span>
<span class="sd">    This interpreter asynchronously processes events and manages state transitions within a state machine based on a provided model. It handles concurrent entry and exit actions for regions, states, sub-states, and pseudostates, as well as the evaluation and execution of various event kinds such as time events and change events.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        model (StateMachine):</span>
<span class="sd">             The state machine model to interpret.</span>
<span class="sd">        log (Logger):</span>
<span class="sd">             Logger for debug messages.</span>
<span class="sd">        stack (dict):</span>
<span class="sd">             A tracking structure for the active states and ongoing tasks in the state machine.</span>

<span class="sd">    Methods:</span>
<span class="sd">        exec_event_processing:</span>
<span class="sd">             Processes an individual event for all regions in the state machine.</span>
<span class="sd">        exec_region_processing:</span>
<span class="sd">             Processes an event for a specific region within the state machine.</span>
<span class="sd">        exec_state_processing:</span>
<span class="sd">             Processes an event for a specific state within the state machine.</span>
<span class="sd">        exec_vertex_processing:</span>
<span class="sd">             Processes an event for a specific vertex within the state machine.</span>
<span class="sd">        exec_transition_processing:</span>
<span class="sd">             Evaluates and, if conditions are met, executes a transition for an event.</span>
<span class="sd">        exec_constraint_evaluate:</span>
<span class="sd">             Evaluates a guard constraint with respect to an event.</span>
<span class="sd">        exec_transition:</span>
<span class="sd">             Executes the actions associated with taking a transition, including exit and entry actions where appropriate.</span>
<span class="sd">        exec_vertex_exit:</span>
<span class="sd">             Manages the exit actions and clean-up upon leaving a vertex in the state machine.</span>
<span class="sd">        exec_vertex_entry:</span>
<span class="sd">             Manages the entry actions and setup when entering a vertex in the state machine.</span>
<span class="sd">        exec_region_entry/exit:</span>
<span class="sd">             Handles the entry/exit logic for a region within the state machine.</span>
<span class="sd">        exec_state_entry/exit:</span>
<span class="sd">             Manages the entry and exit logic of a state, including executing any associated entry, exit, or activity actions.</span>
<span class="sd">        exec_state_machine_entry/exit:</span>
<span class="sd">             Handles the logic for entering and leaving the entire state machine or a sub-state machine.</span>
<span class="sd">        exec_pseudostate_entry/exit:</span>
<span class="sd">             Manages the logic for entering and exiting a pseudostate, based on the pseudostate kind.</span>
<span class="sd">        exec_event_entry:</span>
<span class="sd">             Wraps the starting of the async event processing in a Task and logs entry.</span>
<span class="sd">        run:</span>
<span class="sd">             Initiates the state machine execution by entering the state machine and processing steps.</span>
<span class="sd">        terminate:</span>
<span class="sd">             Handles the orderly shutdown of the state machine, exiting all active regions and states.</span>
<span class="sd">            This interpreter extends AsyncBehaviorInterpreter, making it capable of dealing with the asynchronous nature of the systems modelled by the state machine.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_event_processing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asynchronously processes an event across all regions within a model.</span>
<span class="sd">        This method takes a single event and concurrently processes it through all regions defined in the model. It uses asyncio.gather to asynchronously execute region processing for each region. After all regions have processed the event, the method determines the overall processing result based on the outcomes of the regional processing. The method returns an instance of InterpreterStep to indicate whether event processing is complete, deferred, or incomplete.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (core.elements.Event):</span>
<span class="sd">                 The event to be processed by the state machine.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (InterpreterStep):</span>
<span class="sd">                 An enum value indicating the completion state of the event processing. It can either be InterpreterStep.complete if the processing is finished across all regions, InterpreterStep.deferred if at least one region deferred the event, or InterpreterStep.incomplete if all regions are incomplete in processing the event.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">exec_region_processing</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">regions</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">complete</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">complete</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">deferred</span>
            <span class="k">if</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">deferred</span> <span class="ow">in</span> <span class="n">results</span>
            <span class="k">else</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_region_processing</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">region</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">Region</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">Event</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs the execution processing of a given region within a state machine, handling an incoming event.</span>
<span class="sd">        This asynchronous method checks if the region is currently active and proceeds to process the</span>
<span class="sd">        specified event by executing its corresponding active state. It is part of the state machine&#39;s</span>
<span class="sd">        execution logic which would typically be involved in the workflow of state transitions and event handling.</span>

<span class="sd">        Args:</span>
<span class="sd">            region (core.elements.Region):</span>
<span class="sd">                 The region of the state machine to be processed.</span>
<span class="sd">            event (core.elements.Event):</span>
<span class="sd">                 The event to be handled within the region&#39;s active state.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (InterpreterStep):</span>
<span class="sd">                 An enumeration value representing the completion status of the region processing.</span>
<span class="sd">                This could either be `InterpreterStep.incomplete` indicating that the processing is not yet complete,</span>
<span class="sd">                due to either the region not being active or the absence of an active state within the region.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError:</span>
<span class="sd">                 If the region or event parameters are not instances of their respective expected types.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span><span class="p">(</span><span class="n">region</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
        <span class="n">active_state</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
            <span class="p">(</span><span class="n">state</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">region</span><span class="o">.</span><span class="n">subvertex</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span><span class="p">(</span><span class="n">state</span><span class="p">)),</span> <span class="kc">None</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">active_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_state_processing</span><span class="p">(</span><span class="n">active_state</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_state_processing</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">State</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">Event</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs processing on a state within the state machine given an event.</span>
<span class="sd">        This function executes the processing logic associated with a given state. If the state is not active, it immediately returns an incomplete step indicator. Otherwise, it proceeds to check if the state has regions and processes them asynchronously, waiting for all to complete before continuing.</span>
<span class="sd">        If all regions return an incomplete processing result, or there are no regions, it attempts to process the state itself as a vertex. Finally, it returns the result of the processing, whether that be the processing of the regions or the state as a vertex.</span>

<span class="sd">        Args:</span>
<span class="sd">            state (core.elements.State):</span>
<span class="sd">                 The state that needs to be processed.</span>
<span class="sd">            event (core.elements.Event):</span>
<span class="sd">                 The event that may trigger state transitions or actions.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (InterpreterStep):</span>
<span class="sd">                 The result of the state processing, which can indicate whether the processing is complete, incomplete, or has resulted in a transition.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span><span class="p">(</span><span class="n">state</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
        <span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">regions</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
                <span class="p">(</span>
                    <span class="n">result</span>
                    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="p">(</span>
                        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
                            <span class="o">*</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">exec_region_processing</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
                                <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">regions</span>
                            <span class="p">)</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
                <span class="p">),</span>
                <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
        <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_vertex_processing</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_vertex_processing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertex</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asynchronously processes a given vertex in the state machine with respect to an incoming event.</span>
<span class="sd">        This method iteratively examines all outgoing transitions from the provided vertex. It attempts to process each transition with the given event by invoking the exec_transition_processing method. The processing of transitions continues until either the processing of a transition results in a &#39;complete&#39; state or all transitions have been processed without reaching a &#39;complete&#39; state.</span>

<span class="sd">        Args:</span>
<span class="sd">            vertex (core.Vertex):</span>
<span class="sd">                 The vertex to process which contains the outgoing transitions.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event that triggered the processing of the vertex.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (InterpreterStep):</span>
<span class="sd">                 An enum value indicating whether the processing of the vertex resulted in a &#39;complete&#39; or &#39;incomplete&#39; state. &#39;complete&#39; is returned if any of the transitions reached completion, otherwise &#39;incomplete&#39; is returned if all transitions were processed and none was completed.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">vertex</span><span class="o">.</span><span class="n">outgoing</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition_processing</span><span class="p">(</span><span class="n">transition</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
                <span class="o">==</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">complete</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">complete</span>
        <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_transition_processing</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">transition</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Transition</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs the processing of a given state transition based on an event.</span>
<span class="sd">        This asynchronous method checks if the specified event matches one of the expected events for the transition, and whether the transition&#39;s guard condition (if any) is satisfied. If the conditions are met, the method executes the transition and indicates that the process is complete. If the conditions are not met, the processing is incomplete.</span>

<span class="sd">        Args:</span>
<span class="sd">            transition (core.Transition):</span>
<span class="sd">                 The transition to be processed.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event that is triggering the transition.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (InterpreterStep):</span>
<span class="sd">                 An enum indicating whether the transition processing is &#39;complete&#39; or &#39;incomplete&#39;.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">_event</span><span class="p">,</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">core</span><span class="o">.</span><span class="n">AnyEvent</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">_event</span> <span class="ow">in</span> <span class="n">transition</span><span class="o">.</span><span class="n">events</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="n">transition</span><span class="o">.</span><span class="n">guard</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="ow">or</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_constraint_evaluate</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">guard</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition</span><span class="p">(</span><span class="n">transition</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">complete</span>
        <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>

        <span class="c1"># could possibly improve this with using state in reverse</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_constraint_evaluate_condition</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">constraint</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Constraint</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Async method to evaluate a condition of a given constraint in the context of an event.</span>
<span class="sd">        This function takes a constraint object and an event object. It executes the condition</span>
<span class="sd">        associated with the constraint by passing the event to it. If the condition function</span>
<span class="sd">        returns a Future or is a coroutine, the function awaits the result. Logging is performed</span>
<span class="sd">        after the evaluation to indicate that the evaluation is completed, including the result of the evaluation.</span>

<span class="sd">        Args:</span>
<span class="sd">            constraint (core.Constraint):</span>
<span class="sd">                 The constraint whose condition must be evaluated.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event which is passed to the constraint&#39;s condition for evaluation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (bool):</span>
<span class="sd">                 The result of the constraint&#39;s condition evaluation.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">constraint</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">isfuture</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="ow">or</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">iscoroutine</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">result</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;done evaluating constraint </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">constraint</span><span class="p">)</span><span class="si">}</span><span class="s2"> results are </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_constraint_evaluate</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">constraint</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Constraint</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluates a given constraint in the context of a specific event asynchronously.</span>
<span class="sd">        This function logs the evaluation process, indicates that it is evaluating a particular constraint for a specified event, and then proceeds to evaluate the condition associated with the constraint.</span>

<span class="sd">        Args:</span>
<span class="sd">            constraint (core.Constraint):</span>
<span class="sd">                 The constraint object that needs to be evaluated.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event object that will be used in the context of the constraint evaluation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (bool):</span>
<span class="sd">                 A boolean value indicating the result of the constraint evaluation.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;evaluating constraint </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">constraint</span><span class="p">)</span><span class="si">}</span><span class="s2"> for event </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">event</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_constraint_evaluate_condition</span><span class="p">(</span><span class="n">constraint</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_transition</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">transition</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Transition</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs the execution of a given transition within a state machine.</span>
<span class="sd">        This coroutine executes the actions associated with leaving the current state vertices, executing transition&#39;s effect if any, and entering the target state vertices. It logs the process of executing each transition for debugging purposes.</span>

<span class="sd">        Args:</span>
<span class="sd">            transition (core.Transition):</span>
<span class="sd">                 The transition to be executed.</span>
<span class="sd">            event (core.Event, optional):</span>
<span class="sd">                 The event that may have triggered the transition. Defaults to None.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;executing transition </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">transition</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">leave</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_vertex_exit</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">transition</span><span class="o">.</span><span class="n">effect</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_behavior</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">effect</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">enter</span><span class="p">):</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_vertex_entry</span><span class="p">(</span>
                <span class="n">vertex</span><span class="p">,</span>
                <span class="n">event</span><span class="p">,</span>
                <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span><span class="o">.</span><span class="n">default</span>
                <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">transition</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">enter</span><span class="o">.</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="k">else</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span><span class="o">.</span><span class="n">explicit</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_vertex_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertex</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asynchronously executes the exit behavior for a given vertex in a state machine.</span>
<span class="sd">        This coroutine checks if the provided vertex is an instance of `core.State` or any other type. If the vertex is a `core.State`, it performs two main tasks, executed concurrently for efficiency: it calls `exec_transition_exit` for all outgoing transitions, followed by `exec_state_exit` for the state itself. For other types of vertices, identified here as `core.Pseudostate`, it calls `exec_pseudostate_exit`. After executing the appropriate exit behavior, it then removes the vertex from consideration within the current flow by calling the `pop` method.</span>

<span class="sd">        Args:</span>
<span class="sd">            vertex (core.Vertex):</span>
<span class="sd">                 The vertex that is exiting and requires the execution of its exit behavior.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event that triggered the vertex&#39;s exit.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">State</span><span class="p">):</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
                <span class="o">*</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition_exit</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">vertex</span><span class="o">.</span><span class="n">outgoing</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_state_exit</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_pseudostate_exit</span><span class="p">(</span>
                <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">Pseudostate</span><span class="p">,</span> <span class="n">vertex</span><span class="p">),</span> <span class="n">event</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">vertex</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_transition_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transition</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Transition</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asynchronously executes the exit logic for a given state machine transition.</span>
<span class="sd">        This method is responsible for handling the exit process when a state machine transition occurs. It iterates over both events associated with the transition and the transition itself, and for each element, it checks whether the element exists in the state machine&#39;s stack. If any element is found within the stack, the method will asynchronously pop the element from the stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            transition (core.Transition):</span>
<span class="sd">                 The transition object that is undergoing the exit process.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Any exceptions that could occur while popping elements from the stack are implicitly raised and not caught within this function.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="p">(</span><span class="o">*</span><span class="n">transition</span><span class="o">.</span><span class="n">events</span><span class="p">,</span> <span class="n">transition</span><span class="o">.</span><span class="n">events</span><span class="p">,</span> <span class="n">transition</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_vertex_entry</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">vertex</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes entry logic for a given vertex within a state machine.</span>
<span class="sd">        This asynchronous method handles the entry logic for different vertex types present in a state machine. Depending on the type of the vertex (core.State, core.FinalState, or core.Pseudostate), it will perform the appropriate entry actions and execute any outgoing transitions related to that vertex. It also manages the vertex stack by pushing the current vertex into it before proceeding with the entry actions.</span>

<span class="sd">        Args:</span>
<span class="sd">            vertex (core.Vertex):</span>
<span class="sd">                 The vertex at which to start executing the entry logic.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event instance that triggered the state transition.</span>
<span class="sd">            kind (core.EntryKind):</span>
<span class="sd">                 The kind of entry action to be performed. This helps determine how deep the entry logic should go; for instance, it could specify entering only the top state or recursive entry to all substates.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (List[object]):</span>
<span class="sd">                 A list of results from execution of entry logic and transitions originating from the vertex. The content of this list can vary depending on the type of vertex and number of transitions.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError:</span>
<span class="sd">                 If the provided vertex is not castable to one of the expected vertex types (core.State, core.FinalState, or core.Pseudostate).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">vertex</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">State</span><span class="p">):</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_state_entry</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span>
            <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
                <span class="o">*</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition_entry</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">vertex</span><span class="o">.</span><span class="n">outgoing</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">FinalState</span><span class="p">):</span>
            <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_final_state_entry</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_pseudostate_entry</span><span class="p">(</span>
                <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">Pseudostate</span><span class="p">,</span> <span class="n">vertex</span><span class="p">),</span> <span class="n">event</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">results</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_final_state_entry</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">FinalState</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asynchronously executes the entry actions for a final state of a state machine.</span>
<span class="sd">        This method handles the actions that should be taken when entering the final state of</span>
<span class="sd">        a state machine or a specific region within the state machine. It ensures that all exit</span>
<span class="sd">        actions are completed for the regions that are being left behind. Additionally, if</span>
<span class="sd">        the state machine associated with the final state&#39;s container has no active regions</span>
<span class="sd">        left on the stack, it also terminates the super state (inferred to be a higher level state machine).</span>

<span class="sd">        Args:</span>
<span class="sd">            final_state (core.FinalState):</span>
<span class="sd">                 The final state object representing the state machine&#39;s</span>
<span class="sd">                final state or a specific region&#39;s final state to which the state machine is</span>
<span class="sd">                transitioning.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event that triggered the transition to the final state.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_region_exit</span><span class="p">(</span><span class="n">final_state</span><span class="o">.</span><span class="n">container</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">final_state</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">state_machine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
            <span class="n">region</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span>
            <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">final_state</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">state_machine</span><span class="o">.</span><span class="n">regions</span>
        <span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_event_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A coroutine that handles the exit event for the current state in the state machine.</span>
<span class="sd">        This coroutine pops an event from the state context, effectively facilitating a transition</span>
<span class="sd">        from the current state by handling the exit logic associated with that state.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event that triggers the exit operation from the current state.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_change_event_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">ChangeEvent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs an asynchronous wait for a change event to meet a certain condition before sending the event class associated with the event.</span>
<span class="sd">        This function enters an infinite loop that continuously checks if the condition specified by the `expr` attribute of the `event` argument is met. If the condition evaluates to `True`, the function sends an instance of the event&#39;s class using the `send` coroutine and then breaks out of the loop. Otherwise, it awaits asynchronously for a very brief time (`0` seconds) before checking the condition again, allowing other asynchronous operations to proceed in the meantime.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (core.ChangeEvent):</span>
<span class="sd">                 The change event instance containing the condition expression to be evaluated and the event class to be sent once the condition is met.</span>

<span class="sd">        Raises:</span>
<span class="sd">            This function does not explicitly raise any exceptions, but exceptions may be raised by the `expr` evaluation or the `send` coroutine.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (None):</span>
<span class="sd">                 This function does not return a value.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">expr</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="vm">__class__</span><span class="p">())</span>
                <span class="k">break</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">exec_change_event_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">ChangeEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Task</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Schedules the execution of an `exec_change_event_wait` coroutine for a given change event.</span>
<span class="sd">        This function creates an asyncio Task to asynchronously wait for a change event to be processed. It assigns a unique name to the task based on the qualified name of the event.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (core.ChangeEvent):</span>
<span class="sd">                 The change event to be processed asynchronously.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (asyncio.Task):</span>
<span class="sd">                 The asyncio Task object created for the change event.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exec_change_event_wait</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_time_event_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">TimeEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Async function to wait for a specific time event and then send the event.</span>
<span class="sd">        This asynchronous method takes a time event object and performs a sleep operation for the duration specified by the `when` attribute of the time event. After the wait period is over, it sends the event.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (core.TimeEvent):</span>
<span class="sd">                 The time event object containing the `when` attribute, which specifies the duration to wait before sending the event.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">when</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">())</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="vm">__class__</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">exec_time_event_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">TimeEvent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Schedules the execution of a time-based event.</span>
<span class="sd">        This function initiates an asynchronous task to handle a time-event in the context of the current model&#39;s state machine.</span>
<span class="sd">        It uses the asyncio library to create a new task which will await the execution of the &#39;exec_time_event_wait&#39; coroutine.</span>
<span class="sd">        The task is assigned a name that corresponds to the fully qualified name of the event, which is retrieved using the &#39;model.qualified_name_of&#39; method.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (core.TimeEvent):</span>
<span class="sd">                 An instance of a time-based event that is to be handled by the state machine.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (asyncio.Task):</span>
<span class="sd">                 The newly created asyncio task object that is responsible for executing the time-event.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exec_time_event_wait</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_completion_event_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">CompletionEvent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Awaits the completion of an event within a state machine, gathering futures related to activities in descendant states.</span>
<span class="sd">        This asynchronous method is designed to handle the completion of a given event within the context of a state machine.</span>
<span class="sd">        It first retrieves the state that owns the provided event and then awaits the future associated with the activity of that state. Once the awaited future completes, its value is stored within the event&#39;s value attribute. Subsequently, the method identifies all activities associated with descendant states of the source state and collects their associated futures. It awaits the completion of all these futures concurrently using `asyncio.gather`. Finally, the event is pushed to an internal stack for further processing.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (core.CompletionEvent):</span>
<span class="sd">                 The event for which the completion is being awaited. It is assumed to have originated from a state within the state machine.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">source</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">State</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">owner_of</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="n">future</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">source</span><span class="o">.</span><span class="n">activity</span><span class="p">)</span>
        <span class="n">event</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="k">await</span> <span class="n">future</span>
        <span class="n">activities</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">State</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span><span class="o">.</span><span class="n">activity</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span>
            <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">State</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">model</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">is_descendant_of</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="n">activities</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">exec_completion_event_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">CompletionEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Task</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes the entry logic for a completion event by creating an asyncio task to wait for the event completion.</span>
<span class="sd">        This method is responsible for logging the entry of the completion event, resetting the event&#39;s value to None,</span>
<span class="sd">        and spawning an asyncio task to await the event&#39;s completion. It returns the created task object.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (core.CompletionEvent):</span>
<span class="sd">                 The completion event for which to execute the entry logic.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (asyncio.Task):</span>
<span class="sd">                 The asyncio task created to wait for the event to complete.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;entering completion event </span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">event</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exec_completion_event_wait</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="n">qualified_name</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">task</span>

    <span class="k">def</span> <span class="nf">exec_event_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">Task</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes the entry logic for a given event in the state machine.</span>
<span class="sd">        This method dispatches the execution based on the type of event received. Depending on the type of the event,</span>
<span class="sd">        different execution paths are taken:</span>
<span class="sd">        - `core.TimeEvent`: Executes the logic specific for time-triggered events.</span>
<span class="sd">        - `core.CompletionEvent`: Executes the logic specific for completion-triggered events.</span>
<span class="sd">        - `core.ChangeEvent`: Executes the logic specific for change-triggered events.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event that is currently being processed by the state machine.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (typing.Optional[asyncio.Task]):</span>
<span class="sd">                 An optional asyncio Task object if the event processing</span>
<span class="sd">                results in an asynchronous task that needs to be awaited by the caller. None if the processing</span>
<span class="sd">                of the event doesn&#39;t create an asynchronous task.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;entering event </span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">TimeEvent</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_time_event_entry</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">CompletionEvent</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_completion_event_entry</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">ChangeEvent</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_change_event_entry</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_transition_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transition</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Transition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs entry operations for a given state transition in an asynchronous state machine.</span>
<span class="sd">        This method logs the entering of a transition, then pushes the transition onto the state stack. It</span>
<span class="sd">        proceeds to gather tasks associated with the entry events of the transition, executes them asynchronously,</span>
<span class="sd">        and waits for their completion before advancing.</span>

<span class="sd">        Args:</span>
<span class="sd">            transition (core.Transition):</span>
<span class="sd">                 The transition object representing the state transition</span>
<span class="sd">                that is being entered.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (None):</span>
<span class="sd">                 This method does not return a value and is intended to be used for its side effects.</span>

<span class="sd">        Raises:</span>
<span class="sd">            This method does not explicitly raise any exceptions, but exceptions could be raised by</span>
<span class="sd">            the tasks executed during transition entry, which should be handled by the calling context.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;entering transition </span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span>
        <span class="n">tasks</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">transition</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
            <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_event_entry</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">task</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">tasks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span>
                <span class="n">transition</span><span class="o">.</span><span class="n">events</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="o">*</span><span class="n">tasks</span><span class="p">),</span>
            <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_state_entry</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">State</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asynchronously executes the entry logic for the given state in a State Machine.</span>
<span class="sd">        This coroutine manages the transition into a state by performing several actions:</span>
<span class="sd">        - It logs the entry into the state.</span>
<span class="sd">        - Executes the &#39;entry&#39; behavior for the state, if it exists.</span>
<span class="sd">        - Initiates and manages the state&#39;s &#39;activity&#39;, if it exists, by scheduling it to run asynchronously.</span>
<span class="sd">        - Skips further actions if the state contains a submachine (a nested State Machine).</span>
<span class="sd">        - Recursively invokes entry logic for each contained region within the state.</span>

<span class="sd">        Args:</span>
<span class="sd">            state (core.State):</span>
<span class="sd">                 The state object that is being entered.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event object that triggered the state transition.</span>
<span class="sd">            kind (core.EntryKind):</span>
<span class="sd">                 The enumeration value representing the kind of entry action to be executed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;entering state </span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">entry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_behavior</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">entry</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">activity</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span>
                <span class="n">state</span><span class="o">.</span><span class="n">activity</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exec_behavior</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">activity</span><span class="p">,</span> <span class="n">event</span><span class="p">)),</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">submachine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">exec_region_entry</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">regions</span> <span class="ow">or</span> <span class="p">[]</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_state_machine_entry</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">state_machine</span><span class="p">:</span> <span class="s2">&quot;core.StateMachine&quot;</span><span class="p">,</span>
        <span class="n">event</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span>
        <span class="n">kind</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asynchronously executes the entry behavior for a given state machine.</span>
<span class="sd">        This method is responsible for logging the entry into the state machine and</span>
<span class="sd">        then concurrently executing the entry behavior of all regions within the</span>
<span class="sd">        state machine. It uses asynchronous gathering to ensure that all regions</span>
<span class="sd">        start their entry behavior concurrently.</span>

<span class="sd">        Args:</span>
<span class="sd">            state_machine (core.StateMachine):</span>
<span class="sd">                 The state machine instance for which entry behavior needs to be executed.</span>
<span class="sd">            event (typing.Optional[core.Event]):</span>
<span class="sd">                 The event that triggered the entry into the state machine, if any.</span>
<span class="sd">            kind (core.EntryKind):</span>
<span class="sd">                 The kind of entry to be performed for the state machine.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A coroutine that, when awaited, results in the concurrent execution of entry</span>
<span class="sd">            behavior for all regions within the state machine.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;entering state machine &quot;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">state_machine</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot; with </span><span class="si">{</span><span class="n">state_machine</span><span class="o">.</span><span class="n">regions</span><span class="o">.</span><span class="n">length</span><span class="si">}</span><span class="s1"> regions&#39;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">exec_region_entry</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">state_machine</span><span class="o">.</span><span class="n">regions</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_region_entry</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">region</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Region</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes the entry logic for a given state machine region.</span>
<span class="sd">        This asynchronous method is responsible for entering a region of the state machine. Based on the</span>
<span class="sd">        entry kind specified, it either proceeds with the default entry logic by initiating the region&#39;s</span>
<span class="sd">        initial pseudostate or simply prepares for entry into the region without further action.</span>

<span class="sd">        Args:</span>
<span class="sd">            region (core.Region):</span>
<span class="sd">                 The region of the state machine that is being entered.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event that triggered the entry into the region.</span>
<span class="sd">            kind (core.EntryKind):</span>
<span class="sd">                 The kind of entry into the region, which determines the behavior</span>
<span class="sd">                on region entry. A &#39;default&#39; kind leads to executing the initial pseudostate, while other kinds may</span>
<span class="sd">                alter this behavior.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (tuple):</span>
<span class="sd">                 A tuple representing the states that have been entered as a result of the entry</span>
<span class="sd">                process. For &#39;default&#39; kind with an initial pseudostate, it&#39;s the result of the pseudostate entry;</span>
<span class="sd">                otherwise, it&#39;s an empty tuple.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Any exceptions raised by the `exec_pseudostate_entry` if &#39;default&#39; kind entry is being processed</span>
<span class="sd">            and the region has an initial pseudostate.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;entering region </span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">states</span> <span class="o">=</span> <span class="p">()</span>
        <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span><span class="o">.</span><span class="n">default</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">region</span><span class="o">.</span><span class="n">initial</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">states</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_pseudostate_entry</span><span class="p">(</span><span class="n">region</span><span class="o">.</span><span class="n">initial</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">states</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_region_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">region</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Region</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asynchronously exits a region within a state machine.</span>
<span class="sd">        This method handles the process of exiting a region by first determining the region&#39;s qualified name and logging the exit action. It then identifies the active vertex (state) of the region currently on the stack, if any. If an active vertex exists, the method ensures its proper exit sequence is executed. Finally, the region is popped from the internal state stack.</span>
<span class="sd">        This method is an asynchronous coroutine and should be awaited.</span>

<span class="sd">        Args:</span>
<span class="sd">            region (core.Region):</span>
<span class="sd">                 The region to exit from within the state machine.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event instance that triggered the exit.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;leaving region &quot;</span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
        <span class="n">active_vertex</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
            <span class="p">(</span><span class="n">vertex</span> <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">region</span><span class="o">.</span><span class="n">subvertex</span> <span class="k">if</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">),</span>
            <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">active_vertex</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_vertex_exit</span><span class="p">(</span><span class="n">active_vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_pseudostate_exit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">psuedostate</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Pseudostate</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Async function to execute the exit process of a given pseudostate in response to an event.</span>
<span class="sd">        This function is designed to handle the exiting of a pseudostate, which is typically</span>
<span class="sd">        a state in a state machine that does not correspond to a condition or action in the</span>
<span class="sd">        traditional sense, but instead is used to represent an abstract state or a state that</span>
<span class="sd">        serves as a transition to other states. The function takes as input the pseudostate</span>
<span class="sd">        to be exited and the event that triggered the exit process.</span>

<span class="sd">        Args:</span>
<span class="sd">            psuedostate (core.Pseudostate):</span>
<span class="sd">                 The pseudostate object to be exited.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event object that has triggered the exit of the pseudostate.</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_state_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">State</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs the exit sequence for a given state in the context of a state machine.</span>
<span class="sd">        This asynchronous method handles the exit behavior of a state before a transition to another state. It will go through any nested state machines or regions associated with the given state, triggering their own exit sequences. If the state has an associated activity, and it&#39;s still running, it will be canceled. Lastly, if the state has defined an exit behavior, it is executed.</span>

<span class="sd">        Args:</span>
<span class="sd">            state (core.State):</span>
<span class="sd">                 The state from which to exit.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event that triggered the state exit, if any.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">submachine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_state_machine_exit</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">submachine</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
                <span class="o">*</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">exec_region_exit</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">regions</span> <span class="ow">or</span> <span class="p">[]</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">activity</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">activity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">activity</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">activity</span><span class="o">.</span><span class="n">done</span><span class="p">():</span>
                <span class="n">activity</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">exit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_behavior</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">exit</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;leaving state &quot;</span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_state_machine_exit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">state_machine</span><span class="p">:</span> <span class="s2">&quot;core.StateMachine&quot;</span><span class="p">,</span>
        <span class="n">event</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asynchronously leaves the state machine and executes the cleanup for each region within it.</span>
<span class="sd">        This method is responsible for triggering the exit process from a given state machine and ensuring</span>
<span class="sd">        that each of the regions within the state machine has its exit process executed. It logs the</span>
<span class="sd">        activity and utilizes asynchronous gathering to handle the exiting of multiple regions concurrently.</span>

<span class="sd">        Args:</span>
<span class="sd">            state_machine (core.StateMachine):</span>
<span class="sd">                 The state machine instance that is being exited.</span>
<span class="sd">            event (typing.Optional[core.Event]):</span>
<span class="sd">                 An optional event that might have triggered the state machine exit.</span>
<span class="sd">                This parameter may be None, indicating that no specific event is associated with the exit action.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;leaving state machine &quot;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">state_machine</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exec_region_exit</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span> <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">state_machine</span><span class="o">.</span><span class="n">regions</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">exec_pseudostate_entry</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pseudostate</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Pseudostate</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes the entry behavior of a pseudostate based on its kind.</span>
<span class="sd">        This asynchronous method processes the entry of a pseudostate and performs</span>
<span class="sd">        actions based on its type (e.g., initial, choice, join, fork). It logs the entry,</span>
<span class="sd">        determines the proper transition(s) based on the pseudostate kind and the given</span>
<span class="sd">        event, and asynchronously executes the appropriate transition(s).</span>

<span class="sd">        Args:</span>
<span class="sd">            pseudostate (core.Pseudostate):</span>
<span class="sd">                 The pseudostate that is being entered.</span>
<span class="sd">            event (core.Event):</span>
<span class="sd">                 The event that triggered the entry into the pseudostate.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception:</span>
<span class="sd">                 If the pseudostate is of kind &#39;choice&#39; and no valid transition can be</span>
<span class="sd">                determined (i.e., no transition guard is satisfied), an Exception is</span>
<span class="sd">                raised indicating a model error.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An awaitable object that, when awaited, yields the result of the executed</span>
<span class="sd">            transition(s). Depending on the pseudostate kind, this could be the result from</span>
<span class="sd">            a single transition or a collection of results from multiple transitions (in</span>
<span class="sd">            the case of a &#39;fork&#39; pseudostate).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;entering </span><span class="si">{</span><span class="n">pseudostate</span><span class="o">.</span><span class="n">kind</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> psuedostate </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">pseudostate</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">PseudostateKind</span><span class="o">.</span><span class="n">initial</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition</span><span class="p">(</span><span class="n">pseudostate</span><span class="o">.</span><span class="n">outgoing</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">PseudostateKind</span><span class="o">.</span><span class="n">choice</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">outgoing</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">transition</span><span class="o">.</span><span class="n">guard</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_constraint_evaluate</span><span class="p">(</span>
                    <span class="n">transition</span><span class="o">.</span><span class="n">guard</span><span class="p">,</span> <span class="n">event</span>
                <span class="p">):</span>
                    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition</span><span class="p">(</span><span class="n">transition</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;no valid transition this should never throw&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">PseudostateKind</span><span class="o">.</span><span class="n">join</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span>
                <span class="n">transition</span><span class="o">.</span><span class="n">source</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span>
                <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">incoming</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition</span><span class="p">(</span><span class="n">pseudostate</span><span class="o">.</span><span class="n">outgoing</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">PseudostateKind</span><span class="o">.</span><span class="n">fork</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
                <span class="o">*</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition</span><span class="p">(</span><span class="n">transition</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">outgoing</span>
                <span class="p">)</span>
            <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Async function to start and manage the execution of the state machine.</span>
<span class="sd">        This method initiates the run process of the state machine by logging its execution and handling</span>
<span class="sd">        its entry operations. It proceeds to call the `step` method to perform the state machine&#39;s</span>
<span class="sd">        transitions. If an `asyncio.CancelledError` occurs, it logs that the state machine is stopping.</span>
<span class="sd">        In the absence of exceptions, it delegates to the superclass&#39;s `run` method to continue the</span>
<span class="sd">        running process.</span>

<span class="sd">        Raises:</span>
<span class="sd">            asyncio.CancelledError:</span>
<span class="sd">                 If the asynchronous task that called `run` is cancelled.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;running state machine &quot;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_state_machine_entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span><span class="o">.</span><span class="n">default</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">CancelledError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;stopping state machine &quot;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
            <span class="p">)</span>
            <span class="k">return</span>
        <span class="k">return</span> <span class="k">await</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">terminate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asynchronously terminates the current object&#39;s operations by executing the state machine exit process and then calling the terminate method of the superclass.</span>
<span class="sd">        This method performs two main actions in sequence. First, it calls &#39;exec_state_machine_exit&#39; with the current model instance and &#39;None&#39; as arguments to properly exit any state the object might be in. After that, it awaits the termination method of the superclass to ensure any additional superclass-specific termination procedures are carried out.</span>

<span class="sd">        Args:</span>
<span class="sd">            None</span>

<span class="sd">        Returns:</span>
<span class="sd">            (None):</span>
<span class="sd">                 This method does not return any value. Its purpose is to perform an asynchronous cleanup.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Any exception raised by &#39;exec_state_machine_exit&#39; or the superclass termination method will propagate upwards, potentially to the invoker of this method.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_state_machine_exit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">await</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_change_event_entry" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_change_event_entry</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Schedules the execution of an <code>exec_change_event_wait</code> coroutine for a given change event.
This function creates an asyncio Task to asynchronously wait for a change event to be processed. It assigns a unique name to the task based on the qualified name of the event.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.ChangeEvent" href="../../../Core/Elements/#stateforward.core.elements.ChangeEvent">ChangeEvent</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The change event to be processed asynchronously.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="asyncio.Task">Task</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The asyncio Task object created for the change event.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">exec_change_event_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">ChangeEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Task</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schedules the execution of an `exec_change_event_wait` coroutine for a given change event.</span>
<span class="sd">    This function creates an asyncio Task to asynchronously wait for a change event to be processed. It assigns a unique name to the task based on the qualified name of the event.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (core.ChangeEvent):</span>
<span class="sd">             The change event to be processed asynchronously.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (asyncio.Task):</span>
<span class="sd">             The asyncio Task object created for the change event.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exec_change_event_wait</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_change_event_wait" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_change_event_wait</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Performs an asynchronous wait for a change event to meet a certain condition before sending the event class associated with the event.
This function enters an infinite loop that continuously checks if the condition specified by the <code>expr</code> attribute of the <code>event</code> argument is met. If the condition evaluates to <code>True</code>, the function sends an instance of the event's class using the <code>send</code> coroutine and then breaks out of the loop. Otherwise, it awaits asynchronously for a very brief time (<code>0</code> seconds) before checking the condition again, allowing other asynchronous operations to proceed in the meantime.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.ChangeEvent" href="../../../Core/Elements/#stateforward.core.elements.ChangeEvent">ChangeEvent</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The change event instance containing the condition expression to be evaluated and the event class to be sent once the condition is met.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>This function does not return a value.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_change_event_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">ChangeEvent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs an asynchronous wait for a change event to meet a certain condition before sending the event class associated with the event.</span>
<span class="sd">    This function enters an infinite loop that continuously checks if the condition specified by the `expr` attribute of the `event` argument is met. If the condition evaluates to `True`, the function sends an instance of the event&#39;s class using the `send` coroutine and then breaks out of the loop. Otherwise, it awaits asynchronously for a very brief time (`0` seconds) before checking the condition again, allowing other asynchronous operations to proceed in the meantime.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (core.ChangeEvent):</span>
<span class="sd">             The change event instance containing the condition expression to be evaluated and the event class to be sent once the condition is met.</span>

<span class="sd">    Raises:</span>
<span class="sd">        This function does not explicitly raise any exceptions, but exceptions may be raised by the `expr` evaluation or the `send` coroutine.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (None):</span>
<span class="sd">             This function does not return a value.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">expr</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="vm">__class__</span><span class="p">())</span>
            <span class="k">break</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_completion_event_entry" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_completion_event_entry</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Executes the entry logic for a completion event by creating an asyncio task to wait for the event completion.
This method is responsible for logging the entry of the completion event, resetting the event's value to None,
and spawning an asyncio task to await the event's completion. It returns the created task object.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.CompletionEvent" href="../../../Core/Elements/#stateforward.core.elements.CompletionEvent">CompletionEvent</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The completion event for which to execute the entry logic.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="asyncio.Task">Task</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The asyncio task created to wait for the event to complete.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">exec_completion_event_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">CompletionEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Task</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes the entry logic for a completion event by creating an asyncio task to wait for the event completion.</span>
<span class="sd">    This method is responsible for logging the entry of the completion event, resetting the event&#39;s value to None,</span>
<span class="sd">    and spawning an asyncio task to await the event&#39;s completion. It returns the created task object.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (core.CompletionEvent):</span>
<span class="sd">             The completion event for which to execute the entry logic.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (asyncio.Task):</span>
<span class="sd">             The asyncio task created to wait for the event to complete.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;entering completion event </span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">event</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exec_completion_event_wait</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="n">qualified_name</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">task</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_completion_event_wait" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_completion_event_wait</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Awaits the completion of an event within a state machine, gathering futures related to activities in descendant states.
This asynchronous method is designed to handle the completion of a given event within the context of a state machine.
It first retrieves the state that owns the provided event and then awaits the future associated with the activity of that state. Once the awaited future completes, its value is stored within the event's value attribute. Subsequently, the method identifies all activities associated with descendant states of the source state and collects their associated futures. It awaits the completion of all these futures concurrently using <code>asyncio.gather</code>. Finally, the event is pushed to an internal stack for further processing.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.CompletionEvent" href="../../../Core/Elements/#stateforward.core.elements.CompletionEvent">CompletionEvent</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event for which the completion is being awaited. It is assumed to have originated from a state within the state machine.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_completion_event_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">CompletionEvent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Awaits the completion of an event within a state machine, gathering futures related to activities in descendant states.</span>
<span class="sd">    This asynchronous method is designed to handle the completion of a given event within the context of a state machine.</span>
<span class="sd">    It first retrieves the state that owns the provided event and then awaits the future associated with the activity of that state. Once the awaited future completes, its value is stored within the event&#39;s value attribute. Subsequently, the method identifies all activities associated with descendant states of the source state and collects their associated futures. It awaits the completion of all these futures concurrently using `asyncio.gather`. Finally, the event is pushed to an internal stack for further processing.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (core.CompletionEvent):</span>
<span class="sd">             The event for which the completion is being awaited. It is assumed to have originated from a state within the state machine.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">source</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">State</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">owner_of</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
    <span class="n">future</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">source</span><span class="o">.</span><span class="n">activity</span><span class="p">)</span>
    <span class="n">event</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="k">await</span> <span class="n">future</span>
    <span class="n">activities</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">State</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span><span class="o">.</span><span class="n">activity</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span>
        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">State</span><span class="p">)</span>
        <span class="ow">and</span> <span class="n">model</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">is_descendant_of</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="n">activities</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_constraint_evaluate" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_constraint_evaluate</span><span class="p">(</span><span class="n">constraint</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Evaluates a given constraint in the context of a specific event asynchronously.
This function logs the evaluation process, indicates that it is evaluating a particular constraint for a specified event, and then proceeds to evaluate the condition associated with the constraint.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>constraint</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Constraint" href="../../../Core/Elements/#stateforward.core.elements.Constraint">Constraint</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The constraint object that needs to be evaluated.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event object that will be used in the context of the constraint evaluation.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A boolean value indicating the result of the constraint evaluation.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_constraint_evaluate</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">constraint</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Constraint</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Evaluates a given constraint in the context of a specific event asynchronously.</span>
<span class="sd">    This function logs the evaluation process, indicates that it is evaluating a particular constraint for a specified event, and then proceeds to evaluate the condition associated with the constraint.</span>

<span class="sd">    Args:</span>
<span class="sd">        constraint (core.Constraint):</span>
<span class="sd">             The constraint object that needs to be evaluated.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event object that will be used in the context of the constraint evaluation.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (bool):</span>
<span class="sd">             A boolean value indicating the result of the constraint evaluation.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;evaluating constraint </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">constraint</span><span class="p">)</span><span class="si">}</span><span class="s2"> for event </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">event</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_constraint_evaluate_condition</span><span class="p">(</span><span class="n">constraint</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_constraint_evaluate_condition" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_constraint_evaluate_condition</span><span class="p">(</span><span class="n">constraint</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Async method to evaluate a condition of a given constraint in the context of an event.
This function takes a constraint object and an event object. It executes the condition
associated with the constraint by passing the event to it. If the condition function
returns a Future or is a coroutine, the function awaits the result. Logging is performed
after the evaluation to indicate that the evaluation is completed, including the result of the evaluation.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>constraint</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Constraint" href="../../../Core/Elements/#stateforward.core.elements.Constraint">Constraint</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The constraint whose condition must be evaluated.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event which is passed to the constraint's condition for evaluation.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The result of the constraint's condition evaluation.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_constraint_evaluate_condition</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">constraint</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Constraint</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Async method to evaluate a condition of a given constraint in the context of an event.</span>
<span class="sd">    This function takes a constraint object and an event object. It executes the condition</span>
<span class="sd">    associated with the constraint by passing the event to it. If the condition function</span>
<span class="sd">    returns a Future or is a coroutine, the function awaits the result. Logging is performed</span>
<span class="sd">    after the evaluation to indicate that the evaluation is completed, including the result of the evaluation.</span>

<span class="sd">    Args:</span>
<span class="sd">        constraint (core.Constraint):</span>
<span class="sd">             The constraint whose condition must be evaluated.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event which is passed to the constraint&#39;s condition for evaluation.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (bool):</span>
<span class="sd">             The result of the constraint&#39;s condition evaluation.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">constraint</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">isfuture</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="ow">or</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">iscoroutine</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">result</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;done evaluating constraint </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">constraint</span><span class="p">)</span><span class="si">}</span><span class="s2"> results are </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_event_entry" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_event_entry</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Executes the entry logic for a given event in the state machine.
This method dispatches the execution based on the type of event received. Depending on the type of the event,
different execution paths are taken:
- <code>core.TimeEvent</code>: Executes the logic specific for time-triggered events.
- <code>core.CompletionEvent</code>: Executes the logic specific for completion-triggered events.
- <code>core.ChangeEvent</code>: Executes the logic specific for change-triggered events.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event that is currently being processed by the state machine.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="asyncio.Task">Task</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional asyncio Task object if the event processing
results in an asynchronous task that needs to be awaited by the caller. None if the processing
of the event doesn't create an asynchronous task.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">exec_event_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">Task</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes the entry logic for a given event in the state machine.</span>
<span class="sd">    This method dispatches the execution based on the type of event received. Depending on the type of the event,</span>
<span class="sd">    different execution paths are taken:</span>
<span class="sd">    - `core.TimeEvent`: Executes the logic specific for time-triggered events.</span>
<span class="sd">    - `core.CompletionEvent`: Executes the logic specific for completion-triggered events.</span>
<span class="sd">    - `core.ChangeEvent`: Executes the logic specific for change-triggered events.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event that is currently being processed by the state machine.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (typing.Optional[asyncio.Task]):</span>
<span class="sd">             An optional asyncio Task object if the event processing</span>
<span class="sd">            results in an asynchronous task that needs to be awaited by the caller. None if the processing</span>
<span class="sd">            of the event doesn&#39;t create an asynchronous task.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;entering event </span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">TimeEvent</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_time_event_entry</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">CompletionEvent</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_completion_event_entry</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">ChangeEvent</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_change_event_entry</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_event_exit" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_event_exit</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>A coroutine that handles the exit event for the current state in the state machine.
This coroutine pops an event from the state context, effectively facilitating a transition
from the current state by handling the exit logic associated with that state.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event that triggers the exit operation from the current state.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_event_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A coroutine that handles the exit event for the current state in the state machine.</span>
<span class="sd">    This coroutine pops an event from the state context, effectively facilitating a transition</span>
<span class="sd">    from the current state by handling the exit logic associated with that state.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event that triggers the exit operation from the current state.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_event_processing" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_event_processing</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Asynchronously processes an event across all regions within a model.
This method takes a single event and concurrently processes it through all regions defined in the model. It uses asyncio.gather to asynchronously execute region processing for each region. After all regions have processed the event, the method determines the overall processing result based on the outcomes of the regional processing. The method returns an instance of InterpreterStep to indicate whether event processing is complete, deferred, or incomplete.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.elements.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event to be processed by the state machine.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.protocols.interpreter.InterpreterStep" href="../../../Protocols/Interpreter/#stateforward.protocols.interpreter.InterpreterStep">InterpreterStep</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An enum value indicating the completion state of the event processing. It can either be InterpreterStep.complete if the processing is finished across all regions, InterpreterStep.deferred if at least one region deferred the event, or InterpreterStep.incomplete if all regions are incomplete in processing the event.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_event_processing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Asynchronously processes an event across all regions within a model.</span>
<span class="sd">    This method takes a single event and concurrently processes it through all regions defined in the model. It uses asyncio.gather to asynchronously execute region processing for each region. After all regions have processed the event, the method determines the overall processing result based on the outcomes of the regional processing. The method returns an instance of InterpreterStep to indicate whether event processing is complete, deferred, or incomplete.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (core.elements.Event):</span>
<span class="sd">             The event to be processed by the state machine.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (InterpreterStep):</span>
<span class="sd">             An enum value indicating the completion state of the event processing. It can either be InterpreterStep.complete if the processing is finished across all regions, InterpreterStep.deferred if at least one region deferred the event, or InterpreterStep.incomplete if all regions are incomplete in processing the event.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
        <span class="o">*</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exec_region_processing</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">regions</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">complete</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">complete</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">deferred</span>
        <span class="k">if</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">deferred</span> <span class="ow">in</span> <span class="n">results</span>
        <span class="k">else</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_final_state_entry" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_final_state_entry</span><span class="p">(</span><span class="n">final_state</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Asynchronously executes the entry actions for a final state of a state machine.
This method handles the actions that should be taken when entering the final state of
a state machine or a specific region within the state machine. It ensures that all exit
actions are completed for the regions that are being left behind. Additionally, if
the state machine associated with the final state's container has no active regions
left on the stack, it also terminates the super state (inferred to be a higher level state machine).</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>final_state</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.FinalState" href="../../../Core/Elements/#stateforward.core.elements.FinalState">FinalState</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The final state object representing the state machine's
final state or a specific region's final state to which the state machine is
transitioning.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event that triggered the transition to the final state.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_final_state_entry</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">FinalState</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Asynchronously executes the entry actions for a final state of a state machine.</span>
<span class="sd">    This method handles the actions that should be taken when entering the final state of</span>
<span class="sd">    a state machine or a specific region within the state machine. It ensures that all exit</span>
<span class="sd">    actions are completed for the regions that are being left behind. Additionally, if</span>
<span class="sd">    the state machine associated with the final state&#39;s container has no active regions</span>
<span class="sd">    left on the stack, it also terminates the super state (inferred to be a higher level state machine).</span>

<span class="sd">    Args:</span>
<span class="sd">        final_state (core.FinalState):</span>
<span class="sd">             The final state object representing the state machine&#39;s</span>
<span class="sd">            final state or a specific region&#39;s final state to which the state machine is</span>
<span class="sd">            transitioning.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event that triggered the transition to the final state.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_region_exit</span><span class="p">(</span><span class="n">final_state</span><span class="o">.</span><span class="n">container</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">final_state</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">state_machine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">region</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span>
        <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">final_state</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">state_machine</span><span class="o">.</span><span class="n">regions</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_pseudostate_entry" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_pseudostate_entry</span><span class="p">(</span><span class="n">pseudostate</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Executes the entry behavior of a pseudostate based on its kind.
This asynchronous method processes the entry of a pseudostate and performs
actions based on its type (e.g., initial, choice, join, fork). It logs the entry,
determines the proper transition(s) based on the pseudostate kind and the given
event, and asynchronously executes the appropriate transition(s).</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>pseudostate</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Pseudostate" href="../../../Core/Elements/#stateforward.core.elements.Pseudostate">Pseudostate</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The pseudostate that is being entered.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event that triggered the entry into the pseudostate.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>Exception</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the pseudostate is of kind 'choice' and no valid transition can be
determined (i.e., no transition guard is satisfied), an Exception is
raised indicating a model error.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An awaitable object that, when awaited, yields the result of the executed</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>transition(s). Depending on the pseudostate kind, this could be the result from</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a single transition or a collection of results from multiple transitions (in</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>the case of a 'fork' pseudostate).</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_pseudostate_entry</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pseudostate</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Pseudostate</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes the entry behavior of a pseudostate based on its kind.</span>
<span class="sd">    This asynchronous method processes the entry of a pseudostate and performs</span>
<span class="sd">    actions based on its type (e.g., initial, choice, join, fork). It logs the entry,</span>
<span class="sd">    determines the proper transition(s) based on the pseudostate kind and the given</span>
<span class="sd">    event, and asynchronously executes the appropriate transition(s).</span>

<span class="sd">    Args:</span>
<span class="sd">        pseudostate (core.Pseudostate):</span>
<span class="sd">             The pseudostate that is being entered.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event that triggered the entry into the pseudostate.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception:</span>
<span class="sd">             If the pseudostate is of kind &#39;choice&#39; and no valid transition can be</span>
<span class="sd">            determined (i.e., no transition guard is satisfied), an Exception is</span>
<span class="sd">            raised indicating a model error.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An awaitable object that, when awaited, yields the result of the executed</span>
<span class="sd">        transition(s). Depending on the pseudostate kind, this could be the result from</span>
<span class="sd">        a single transition or a collection of results from multiple transitions (in</span>
<span class="sd">        the case of a &#39;fork&#39; pseudostate).</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;entering </span><span class="si">{</span><span class="n">pseudostate</span><span class="o">.</span><span class="n">kind</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> psuedostate </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">pseudostate</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">PseudostateKind</span><span class="o">.</span><span class="n">initial</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition</span><span class="p">(</span><span class="n">pseudostate</span><span class="o">.</span><span class="n">outgoing</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">event</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">PseudostateKind</span><span class="o">.</span><span class="n">choice</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">outgoing</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">transition</span><span class="o">.</span><span class="n">guard</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_constraint_evaluate</span><span class="p">(</span>
                <span class="n">transition</span><span class="o">.</span><span class="n">guard</span><span class="p">,</span> <span class="n">event</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition</span><span class="p">(</span><span class="n">transition</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;no valid transition this should never throw&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">PseudostateKind</span><span class="o">.</span><span class="n">join</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span>
            <span class="n">transition</span><span class="o">.</span><span class="n">source</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span>
            <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">incoming</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition</span><span class="p">(</span><span class="n">pseudostate</span><span class="o">.</span><span class="n">outgoing</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">event</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">PseudostateKind</span><span class="o">.</span><span class="n">fork</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition</span><span class="p">(</span><span class="n">transition</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">pseudostate</span><span class="o">.</span><span class="n">outgoing</span>
            <span class="p">)</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_pseudostate_exit" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_pseudostate_exit</span><span class="p">(</span><span class="n">psuedostate</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Async function to execute the exit process of a given pseudostate in response to an event.
This function is designed to handle the exiting of a pseudostate, which is typically
a state in a state machine that does not correspond to a condition or action in the
traditional sense, but instead is used to represent an abstract state or a state that
serves as a transition to other states. The function takes as input the pseudostate
to be exited and the event that triggered the exit process.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>psuedostate</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Pseudostate" href="../../../Core/Elements/#stateforward.core.elements.Pseudostate">Pseudostate</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The pseudostate object to be exited.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event object that has triggered the exit of the pseudostate.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_pseudostate_exit</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">psuedostate</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Pseudostate</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Async function to execute the exit process of a given pseudostate in response to an event.</span>
<span class="sd">    This function is designed to handle the exiting of a pseudostate, which is typically</span>
<span class="sd">    a state in a state machine that does not correspond to a condition or action in the</span>
<span class="sd">    traditional sense, but instead is used to represent an abstract state or a state that</span>
<span class="sd">    serves as a transition to other states. The function takes as input the pseudostate</span>
<span class="sd">    to be exited and the event that triggered the exit process.</span>

<span class="sd">    Args:</span>
<span class="sd">        psuedostate (core.Pseudostate):</span>
<span class="sd">             The pseudostate object to be exited.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event object that has triggered the exit of the pseudostate.</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_region_entry" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_region_entry</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Executes the entry logic for a given state machine region.
This asynchronous method is responsible for entering a region of the state machine. Based on the
entry kind specified, it either proceeds with the default entry logic by initiating the region's
initial pseudostate or simply prepares for entry into the region without further action.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>region</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Region" href="../../../Core/Elements/#stateforward.core.elements.Region">Region</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The region of the state machine that is being entered.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event that triggered the entry into the region.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>kind</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.EntryKind" href="../../../Core/Elements/#stateforward.core.elements.EntryKind">EntryKind</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The kind of entry into the region, which determines the behavior
on region entry. A 'default' kind leads to executing the initial pseudostate, while other kinds may
alter this behavior.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A tuple representing the states that have been entered as a result of the entry
process. For 'default' kind with an initial pseudostate, it's the result of the pseudostate entry;
otherwise, it's an empty tuple.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_region_entry</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">region</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Region</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes the entry logic for a given state machine region.</span>
<span class="sd">    This asynchronous method is responsible for entering a region of the state machine. Based on the</span>
<span class="sd">    entry kind specified, it either proceeds with the default entry logic by initiating the region&#39;s</span>
<span class="sd">    initial pseudostate or simply prepares for entry into the region without further action.</span>

<span class="sd">    Args:</span>
<span class="sd">        region (core.Region):</span>
<span class="sd">             The region of the state machine that is being entered.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event that triggered the entry into the region.</span>
<span class="sd">        kind (core.EntryKind):</span>
<span class="sd">             The kind of entry into the region, which determines the behavior</span>
<span class="sd">            on region entry. A &#39;default&#39; kind leads to executing the initial pseudostate, while other kinds may</span>
<span class="sd">            alter this behavior.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (tuple):</span>
<span class="sd">             A tuple representing the states that have been entered as a result of the entry</span>
<span class="sd">            process. For &#39;default&#39; kind with an initial pseudostate, it&#39;s the result of the pseudostate entry;</span>
<span class="sd">            otherwise, it&#39;s an empty tuple.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Any exceptions raised by the `exec_pseudostate_entry` if &#39;default&#39; kind entry is being processed</span>
<span class="sd">        and the region has an initial pseudostate.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;entering region </span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">states</span> <span class="o">=</span> <span class="p">()</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span><span class="o">.</span><span class="n">default</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">region</span><span class="o">.</span><span class="n">initial</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">states</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_pseudostate_entry</span><span class="p">(</span><span class="n">region</span><span class="o">.</span><span class="n">initial</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">states</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_region_exit" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_region_exit</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Asynchronously exits a region within a state machine.
This method handles the process of exiting a region by first determining the region's qualified name and logging the exit action. It then identifies the active vertex (state) of the region currently on the stack, if any. If an active vertex exists, the method ensures its proper exit sequence is executed. Finally, the region is popped from the internal state stack.
This method is an asynchronous coroutine and should be awaited.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>region</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Region" href="../../../Core/Elements/#stateforward.core.elements.Region">Region</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The region to exit from within the state machine.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event instance that triggered the exit.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_region_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">region</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Region</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Asynchronously exits a region within a state machine.</span>
<span class="sd">    This method handles the process of exiting a region by first determining the region&#39;s qualified name and logging the exit action. It then identifies the active vertex (state) of the region currently on the stack, if any. If an active vertex exists, the method ensures its proper exit sequence is executed. Finally, the region is popped from the internal state stack.</span>
<span class="sd">    This method is an asynchronous coroutine and should be awaited.</span>

<span class="sd">    Args:</span>
<span class="sd">        region (core.Region):</span>
<span class="sd">             The region to exit from within the state machine.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event instance that triggered the exit.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;leaving region &quot;</span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
    <span class="n">active_vertex</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
        <span class="p">(</span><span class="n">vertex</span> <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">region</span><span class="o">.</span><span class="n">subvertex</span> <span class="k">if</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">),</span>
        <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">active_vertex</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_vertex_exit</span><span class="p">(</span><span class="n">active_vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_region_processing" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_region_processing</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Performs the execution processing of a given region within a state machine, handling an incoming event.
This asynchronous method checks if the region is currently active and proceeds to process the
specified event by executing its corresponding active state. It is part of the state machine's
execution logic which would typically be involved in the workflow of state transitions and event handling.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>region</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.elements.Region" href="../../../Core/Elements/#stateforward.core.elements.Region">Region</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The region of the state machine to be processed.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.elements.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event to be handled within the region's active state.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.protocols.interpreter.InterpreterStep" href="../../../Protocols/Interpreter/#stateforward.protocols.interpreter.InterpreterStep">InterpreterStep</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An enumeration value representing the completion status of the region processing.
This could either be <code>InterpreterStep.incomplete</code> indicating that the processing is not yet complete,
due to either the region not being active or the absence of an active state within the region.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>TypeError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the region or event parameters are not instances of their respective expected types.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_region_processing</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">region</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">Region</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">Event</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs the execution processing of a given region within a state machine, handling an incoming event.</span>
<span class="sd">    This asynchronous method checks if the region is currently active and proceeds to process the</span>
<span class="sd">    specified event by executing its corresponding active state. It is part of the state machine&#39;s</span>
<span class="sd">    execution logic which would typically be involved in the workflow of state transitions and event handling.</span>

<span class="sd">    Args:</span>
<span class="sd">        region (core.elements.Region):</span>
<span class="sd">             The region of the state machine to be processed.</span>
<span class="sd">        event (core.elements.Event):</span>
<span class="sd">             The event to be handled within the region&#39;s active state.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (InterpreterStep):</span>
<span class="sd">             An enumeration value representing the completion status of the region processing.</span>
<span class="sd">            This could either be `InterpreterStep.incomplete` indicating that the processing is not yet complete,</span>
<span class="sd">            due to either the region not being active or the absence of an active state within the region.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError:</span>
<span class="sd">             If the region or event parameters are not instances of their respective expected types.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span><span class="p">(</span><span class="n">region</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
    <span class="n">active_state</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
        <span class="p">(</span><span class="n">state</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">region</span><span class="o">.</span><span class="n">subvertex</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span><span class="p">(</span><span class="n">state</span><span class="p">)),</span> <span class="kc">None</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">active_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_state_processing</span><span class="p">(</span><span class="n">active_state</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_entry" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_state_entry</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Asynchronously executes the entry logic for the given state in a State Machine.
This coroutine manages the transition into a state by performing several actions:
- It logs the entry into the state.
- Executes the 'entry' behavior for the state, if it exists.
- Initiates and manages the state's 'activity', if it exists, by scheduling it to run asynchronously.
- Skips further actions if the state contains a submachine (a nested State Machine).
- Recursively invokes entry logic for each contained region within the state.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.State" href="../../../Core/Elements/#stateforward.core.elements.State">State</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The state object that is being entered.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event object that triggered the state transition.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>kind</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.EntryKind" href="../../../Core/Elements/#stateforward.core.elements.EntryKind">EntryKind</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The enumeration value representing the kind of entry action to be executed.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>None</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_state_entry</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">State</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Asynchronously executes the entry logic for the given state in a State Machine.</span>
<span class="sd">    This coroutine manages the transition into a state by performing several actions:</span>
<span class="sd">    - It logs the entry into the state.</span>
<span class="sd">    - Executes the &#39;entry&#39; behavior for the state, if it exists.</span>
<span class="sd">    - Initiates and manages the state&#39;s &#39;activity&#39;, if it exists, by scheduling it to run asynchronously.</span>
<span class="sd">    - Skips further actions if the state contains a submachine (a nested State Machine).</span>
<span class="sd">    - Recursively invokes entry logic for each contained region within the state.</span>

<span class="sd">    Args:</span>
<span class="sd">        state (core.State):</span>
<span class="sd">             The state object that is being entered.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event object that triggered the state transition.</span>
<span class="sd">        kind (core.EntryKind):</span>
<span class="sd">             The enumeration value representing the kind of entry action to be executed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;entering state </span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">entry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_behavior</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">entry</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">activity</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span>
            <span class="n">state</span><span class="o">.</span><span class="n">activity</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exec_behavior</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">activity</span><span class="p">,</span> <span class="n">event</span><span class="p">)),</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">submachine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
        <span class="o">*</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exec_region_entry</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">regions</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_exit" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_state_exit</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Performs the exit sequence for a given state in the context of a state machine.
This asynchronous method handles the exit behavior of a state before a transition to another state. It will go through any nested state machines or regions associated with the given state, triggering their own exit sequences. If the state has an associated activity, and it's still running, it will be canceled. Lastly, if the state has defined an exit behavior, it is executed.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.State" href="../../../Core/Elements/#stateforward.core.elements.State">State</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The state from which to exit.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event that triggered the state exit, if any.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_state_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">State</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs the exit sequence for a given state in the context of a state machine.</span>
<span class="sd">    This asynchronous method handles the exit behavior of a state before a transition to another state. It will go through any nested state machines or regions associated with the given state, triggering their own exit sequences. If the state has an associated activity, and it&#39;s still running, it will be canceled. Lastly, if the state has defined an exit behavior, it is executed.</span>

<span class="sd">    Args:</span>
<span class="sd">        state (core.State):</span>
<span class="sd">             The state from which to exit.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event that triggered the state exit, if any.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">submachine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_state_machine_exit</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">submachine</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">exec_region_exit</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">regions</span> <span class="ow">or</span> <span class="p">[]</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">activity</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">activity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">activity</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">activity</span><span class="o">.</span><span class="n">done</span><span class="p">():</span>
            <span class="n">activity</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">exit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_behavior</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">exit</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;leaving state &quot;</span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_machine_entry" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_state_machine_entry</span><span class="p">(</span><span class="n">state_machine</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Asynchronously executes the entry behavior for a given state machine.
This method is responsible for logging the entry into the state machine and
then concurrently executing the entry behavior of all regions within the
state machine. It uses asynchronous gathering to ensure that all regions
start their entry behavior concurrently.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state_machine</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.StateMachine" href="../../../Core/Elements/#stateforward.core.elements.StateMachine">StateMachine</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The state machine instance for which entry behavior needs to be executed.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event that triggered the entry into the state machine, if any.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>kind</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.EntryKind" href="../../../Core/Elements/#stateforward.core.elements.EntryKind">EntryKind</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The kind of entry to be performed for the state machine.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A coroutine that, when awaited, results in the concurrent execution of entry</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>behavior for all regions within the state machine.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_state_machine_entry</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">state_machine</span><span class="p">:</span> <span class="s2">&quot;core.StateMachine&quot;</span><span class="p">,</span>
    <span class="n">event</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Asynchronously executes the entry behavior for a given state machine.</span>
<span class="sd">    This method is responsible for logging the entry into the state machine and</span>
<span class="sd">    then concurrently executing the entry behavior of all regions within the</span>
<span class="sd">    state machine. It uses asynchronous gathering to ensure that all regions</span>
<span class="sd">    start their entry behavior concurrently.</span>

<span class="sd">    Args:</span>
<span class="sd">        state_machine (core.StateMachine):</span>
<span class="sd">             The state machine instance for which entry behavior needs to be executed.</span>
<span class="sd">        event (typing.Optional[core.Event]):</span>
<span class="sd">             The event that triggered the entry into the state machine, if any.</span>
<span class="sd">        kind (core.EntryKind):</span>
<span class="sd">             The kind of entry to be performed for the state machine.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A coroutine that, when awaited, results in the concurrent execution of entry</span>
<span class="sd">        behavior for all regions within the state machine.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s1">&#39;entering state machine &quot;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">state_machine</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot; with </span><span class="si">{</span><span class="n">state_machine</span><span class="o">.</span><span class="n">regions</span><span class="o">.</span><span class="n">length</span><span class="si">}</span><span class="s1"> regions&#39;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
        <span class="o">*</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exec_region_entry</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">state_machine</span><span class="o">.</span><span class="n">regions</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_machine_exit" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_state_machine_exit</span><span class="p">(</span><span class="n">state_machine</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Asynchronously leaves the state machine and executes the cleanup for each region within it.
This method is responsible for triggering the exit process from a given state machine and ensuring
that each of the regions within the state machine has its exit process executed. It logs the
activity and utilizes asynchronous gathering to handle the exiting of multiple regions concurrently.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state_machine</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.StateMachine" href="../../../Core/Elements/#stateforward.core.elements.StateMachine">StateMachine</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The state machine instance that is being exited.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional event that might have triggered the state machine exit.
This parameter may be None, indicating that no specific event is associated with the exit action.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_state_machine_exit</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">state_machine</span><span class="p">:</span> <span class="s2">&quot;core.StateMachine&quot;</span><span class="p">,</span>
    <span class="n">event</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">],</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Asynchronously leaves the state machine and executes the cleanup for each region within it.</span>
<span class="sd">    This method is responsible for triggering the exit process from a given state machine and ensuring</span>
<span class="sd">    that each of the regions within the state machine has its exit process executed. It logs the</span>
<span class="sd">    activity and utilizes asynchronous gathering to handle the exiting of multiple regions concurrently.</span>

<span class="sd">    Args:</span>
<span class="sd">        state_machine (core.StateMachine):</span>
<span class="sd">             The state machine instance that is being exited.</span>
<span class="sd">        event (typing.Optional[core.Event]):</span>
<span class="sd">             An optional event that might have triggered the state machine exit.</span>
<span class="sd">            This parameter may be None, indicating that no specific event is associated with the exit action.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s1">&#39;leaving state machine &quot;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">state_machine</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
        <span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exec_region_exit</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span> <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">state_machine</span><span class="o">.</span><span class="n">regions</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_state_processing" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_state_processing</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Performs processing on a state within the state machine given an event.
This function executes the processing logic associated with a given state. If the state is not active, it immediately returns an incomplete step indicator. Otherwise, it proceeds to check if the state has regions and processes them asynchronously, waiting for all to complete before continuing.
If all regions return an incomplete processing result, or there are no regions, it attempts to process the state itself as a vertex. Finally, it returns the result of the processing, whether that be the processing of the regions or the state as a vertex.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.elements.State" href="../../../Core/Elements/#stateforward.core.elements.State">State</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The state that needs to be processed.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.elements.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event that may trigger state transitions or actions.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.protocols.interpreter.InterpreterStep" href="../../../Protocols/Interpreter/#stateforward.protocols.interpreter.InterpreterStep">InterpreterStep</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The result of the state processing, which can indicate whether the processing is complete, incomplete, or has resulted in a transition.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_state_processing</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">State</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">Event</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs processing on a state within the state machine given an event.</span>
<span class="sd">    This function executes the processing logic associated with a given state. If the state is not active, it immediately returns an incomplete step indicator. Otherwise, it proceeds to check if the state has regions and processes them asynchronously, waiting for all to complete before continuing.</span>
<span class="sd">    If all regions return an incomplete processing result, or there are no regions, it attempts to process the state itself as a vertex. Finally, it returns the result of the processing, whether that be the processing of the regions or the state as a vertex.</span>

<span class="sd">    Args:</span>
<span class="sd">        state (core.elements.State):</span>
<span class="sd">             The state that needs to be processed.</span>
<span class="sd">        event (core.elements.Event):</span>
<span class="sd">             The event that may trigger state transitions or actions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (InterpreterStep):</span>
<span class="sd">             The result of the state processing, which can indicate whether the processing is complete, incomplete, or has resulted in a transition.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span><span class="p">(</span><span class="n">state</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
    <span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">regions</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="n">result</span>
                <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="p">(</span>
                    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
                        <span class="o">*</span><span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">exec_region_processing</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
                            <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">regions</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
            <span class="p">),</span>
            <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_vertex_processing</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_time_event_entry" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_time_event_entry</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Schedules the execution of a time-based event.
This function initiates an asynchronous task to handle a time-event in the context of the current model's state machine.
It uses the asyncio library to create a new task which will await the execution of the 'exec_time_event_wait' coroutine.
The task is assigned a name that corresponds to the fully qualified name of the event, which is retrieved using the 'model.qualified_name_of' method.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.TimeEvent" href="../../../Core/Elements/#stateforward.core.elements.TimeEvent">TimeEvent</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An instance of a time-based event that is to be handled by the state machine.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="asyncio.Task">Task</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The newly created asyncio task object that is responsible for executing the time-event.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">exec_time_event_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">TimeEvent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schedules the execution of a time-based event.</span>
<span class="sd">    This function initiates an asynchronous task to handle a time-event in the context of the current model&#39;s state machine.</span>
<span class="sd">    It uses the asyncio library to create a new task which will await the execution of the &#39;exec_time_event_wait&#39; coroutine.</span>
<span class="sd">    The task is assigned a name that corresponds to the fully qualified name of the event, which is retrieved using the &#39;model.qualified_name_of&#39; method.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (core.TimeEvent):</span>
<span class="sd">             An instance of a time-based event that is to be handled by the state machine.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (asyncio.Task):</span>
<span class="sd">             The newly created asyncio task object that is responsible for executing the time-event.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exec_time_event_wait</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_time_event_wait" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_time_event_wait</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Async function to wait for a specific time event and then send the event.
This asynchronous method takes a time event object and performs a sleep operation for the duration specified by the <code>when</code> attribute of the time event. After the wait period is over, it sends the event.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.TimeEvent" href="../../../Core/Elements/#stateforward.core.elements.TimeEvent">TimeEvent</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The time event object containing the <code>when</code> attribute, which specifies the duration to wait before sending the event.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>None</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_time_event_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">TimeEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Async function to wait for a specific time event and then send the event.</span>
<span class="sd">    This asynchronous method takes a time event object and performs a sleep operation for the duration specified by the `when` attribute of the time event. After the wait period is over, it sends the event.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (core.TimeEvent):</span>
<span class="sd">             The time event object containing the `when` attribute, which specifies the duration to wait before sending the event.</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">when</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">())</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="vm">__class__</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_transition" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_transition</span><span class="p">(</span><span class="n">transition</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Performs the execution of a given transition within a state machine.
This coroutine executes the actions associated with leaving the current state vertices, executing transition's effect if any, and entering the target state vertices. It logs the process of executing each transition for debugging purposes.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>transition</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Transition" href="../../../Core/Elements/#stateforward.core.elements.Transition">Transition</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The transition to be executed.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event that may have triggered the transition. Defaults to None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_transition</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">transition</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Transition</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs the execution of a given transition within a state machine.</span>
<span class="sd">    This coroutine executes the actions associated with leaving the current state vertices, executing transition&#39;s effect if any, and entering the target state vertices. It logs the process of executing each transition for debugging purposes.</span>

<span class="sd">    Args:</span>
<span class="sd">        transition (core.Transition):</span>
<span class="sd">             The transition to be executed.</span>
<span class="sd">        event (core.Event, optional):</span>
<span class="sd">             The event that may have triggered the transition. Defaults to None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;executing transition </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">transition</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">leave</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_vertex_exit</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">transition</span><span class="o">.</span><span class="n">effect</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_behavior</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">effect</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">enter</span><span class="p">):</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_vertex_entry</span><span class="p">(</span>
            <span class="n">vertex</span><span class="p">,</span>
            <span class="n">event</span><span class="p">,</span>
            <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span><span class="o">.</span><span class="n">default</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">transition</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">enter</span><span class="o">.</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">else</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span><span class="o">.</span><span class="n">explicit</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_transition_entry" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_transition_entry</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Performs entry operations for a given state transition in an asynchronous state machine.
This method logs the entering of a transition, then pushes the transition onto the state stack. It
proceeds to gather tasks associated with the entry events of the transition, executes them asynchronously,
and waits for their completion before advancing.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>transition</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Transition" href="../../../Core/Elements/#stateforward.core.elements.Transition">Transition</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The transition object representing the state transition
that is being entered.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>This method does not return a value and is intended to be used for its side effects.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_transition_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transition</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Transition</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs entry operations for a given state transition in an asynchronous state machine.</span>
<span class="sd">    This method logs the entering of a transition, then pushes the transition onto the state stack. It</span>
<span class="sd">    proceeds to gather tasks associated with the entry events of the transition, executes them asynchronously,</span>
<span class="sd">    and waits for their completion before advancing.</span>

<span class="sd">    Args:</span>
<span class="sd">        transition (core.Transition):</span>
<span class="sd">             The transition object representing the state transition</span>
<span class="sd">            that is being entered.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (None):</span>
<span class="sd">             This method does not return a value and is intended to be used for its side effects.</span>

<span class="sd">    Raises:</span>
<span class="sd">        This method does not explicitly raise any exceptions, but exceptions could be raised by</span>
<span class="sd">        the tasks executed during transition entry, which should be handled by the calling context.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qualified_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;entering transition </span><span class="si">{</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">transition</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
        <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_event_entry</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">task</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">tasks</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span>
            <span class="n">transition</span><span class="o">.</span><span class="n">events</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="o">*</span><span class="n">tasks</span><span class="p">),</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_transition_exit" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_transition_exit</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Asynchronously executes the exit logic for a given state machine transition.
This method is responsible for handling the exit process when a state machine transition occurs. It iterates over both events associated with the transition and the transition itself, and for each element, it checks whether the element exists in the state machine's stack. If any element is found within the stack, the method will asynchronously pop the element from the stack.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>transition</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Transition" href="../../../Core/Elements/#stateforward.core.elements.Transition">Transition</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The transition object that is undergoing the exit process.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_transition_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transition</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Transition</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Asynchronously executes the exit logic for a given state machine transition.</span>
<span class="sd">    This method is responsible for handling the exit process when a state machine transition occurs. It iterates over both events associated with the transition and the transition itself, and for each element, it checks whether the element exists in the state machine&#39;s stack. If any element is found within the stack, the method will asynchronously pop the element from the stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        transition (core.Transition):</span>
<span class="sd">             The transition object that is undergoing the exit process.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Any exceptions that could occur while popping elements from the stack are implicitly raised and not caught within this function.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="p">(</span><span class="o">*</span><span class="n">transition</span><span class="o">.</span><span class="n">events</span><span class="p">,</span> <span class="n">transition</span><span class="o">.</span><span class="n">events</span><span class="p">,</span> <span class="n">transition</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_transition_processing" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_transition_processing</span><span class="p">(</span><span class="n">transition</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Performs the processing of a given state transition based on an event.
This asynchronous method checks if the specified event matches one of the expected events for the transition, and whether the transition's guard condition (if any) is satisfied. If the conditions are met, the method executes the transition and indicates that the process is complete. If the conditions are not met, the processing is incomplete.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>transition</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Transition" href="../../../Core/Elements/#stateforward.core.elements.Transition">Transition</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The transition to be processed.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event that is triggering the transition.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.protocols.interpreter.InterpreterStep" href="../../../Protocols/Interpreter/#stateforward.protocols.interpreter.InterpreterStep">InterpreterStep</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An enum indicating whether the transition processing is 'complete' or 'incomplete'.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_transition_processing</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">transition</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Transition</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs the processing of a given state transition based on an event.</span>
<span class="sd">    This asynchronous method checks if the specified event matches one of the expected events for the transition, and whether the transition&#39;s guard condition (if any) is satisfied. If the conditions are met, the method executes the transition and indicates that the process is complete. If the conditions are not met, the processing is incomplete.</span>

<span class="sd">    Args:</span>
<span class="sd">        transition (core.Transition):</span>
<span class="sd">             The transition to be processed.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event that is triggering the transition.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (InterpreterStep):</span>
<span class="sd">             An enum indicating whether the transition processing is &#39;complete&#39; or &#39;incomplete&#39;.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span>
        <span class="nb">isinstance</span><span class="p">(</span><span class="n">_event</span><span class="p">,</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">core</span><span class="o">.</span><span class="n">AnyEvent</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">_event</span> <span class="ow">in</span> <span class="n">transition</span><span class="o">.</span><span class="n">events</span>
    <span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
        <span class="n">transition</span><span class="o">.</span><span class="n">guard</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="ow">or</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_constraint_evaluate</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">guard</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition</span><span class="p">(</span><span class="n">transition</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">complete</span>
    <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_vertex_entry" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_vertex_entry</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Executes entry logic for a given vertex within a state machine.
This asynchronous method handles the entry logic for different vertex types present in a state machine. Depending on the type of the vertex (core.State, core.FinalState, or core.Pseudostate), it will perform the appropriate entry actions and execute any outgoing transitions related to that vertex. It also manages the vertex stack by pushing the current vertex into it before proceeding with the entry actions.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>vertex</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Vertex" href="../../../Core/Elements/#stateforward.core.elements.Vertex">Vertex</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The vertex at which to start executing the entry logic.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event instance that triggered the state transition.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>kind</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.EntryKind" href="../../../Core/Elements/#stateforward.core.elements.EntryKind">EntryKind</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The kind of entry action to be performed. This helps determine how deep the entry logic should go; for instance, it could specify entering only the top state or recursive entry to all substates.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>List[object]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of results from execution of entry logic and transitions originating from the vertex. The content of this list can vary depending on the type of vertex and number of transitions.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>TypeError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the provided vertex is not castable to one of the expected vertex types (core.State, core.FinalState, or core.Pseudostate).</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_vertex_entry</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">vertex</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes entry logic for a given vertex within a state machine.</span>
<span class="sd">    This asynchronous method handles the entry logic for different vertex types present in a state machine. Depending on the type of the vertex (core.State, core.FinalState, or core.Pseudostate), it will perform the appropriate entry actions and execute any outgoing transitions related to that vertex. It also manages the vertex stack by pushing the current vertex into it before proceeding with the entry actions.</span>

<span class="sd">    Args:</span>
<span class="sd">        vertex (core.Vertex):</span>
<span class="sd">             The vertex at which to start executing the entry logic.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event instance that triggered the state transition.</span>
<span class="sd">        kind (core.EntryKind):</span>
<span class="sd">             The kind of entry action to be performed. This helps determine how deep the entry logic should go; for instance, it could specify entering only the top state or recursive entry to all substates.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (List[object]):</span>
<span class="sd">             A list of results from execution of entry logic and transitions originating from the vertex. The content of this list can vary depending on the type of vertex and number of transitions.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError:</span>
<span class="sd">             If the provided vertex is not castable to one of the expected vertex types (core.State, core.FinalState, or core.Pseudostate).</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">vertex</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">State</span><span class="p">):</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_state_entry</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span>
        <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition_entry</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">vertex</span><span class="o">.</span><span class="n">outgoing</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">FinalState</span><span class="p">):</span>
        <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_final_state_entry</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_pseudostate_entry</span><span class="p">(</span>
            <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">Pseudostate</span><span class="p">,</span> <span class="n">vertex</span><span class="p">),</span> <span class="n">event</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_vertex_exit" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_vertex_exit</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Asynchronously executes the exit behavior for a given vertex in a state machine.
This coroutine checks if the provided vertex is an instance of <code>core.State</code> or any other type. If the vertex is a <code>core.State</code>, it performs two main tasks, executed concurrently for efficiency: it calls <code>exec_transition_exit</code> for all outgoing transitions, followed by <code>exec_state_exit</code> for the state itself. For other types of vertices, identified here as <code>core.Pseudostate</code>, it calls <code>exec_pseudostate_exit</code>. After executing the appropriate exit behavior, it then removes the vertex from consideration within the current flow by calling the <code>pop</code> method.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>vertex</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Vertex" href="../../../Core/Elements/#stateforward.core.elements.Vertex">Vertex</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The vertex that is exiting and requires the execution of its exit behavior.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event that triggered the vertex's exit.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_vertex_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertex</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Asynchronously executes the exit behavior for a given vertex in a state machine.</span>
<span class="sd">    This coroutine checks if the provided vertex is an instance of `core.State` or any other type. If the vertex is a `core.State`, it performs two main tasks, executed concurrently for efficiency: it calls `exec_transition_exit` for all outgoing transitions, followed by `exec_state_exit` for the state itself. For other types of vertices, identified here as `core.Pseudostate`, it calls `exec_pseudostate_exit`. After executing the appropriate exit behavior, it then removes the vertex from consideration within the current flow by calling the `pop` method.</span>

<span class="sd">    Args:</span>
<span class="sd">        vertex (core.Vertex):</span>
<span class="sd">             The vertex that is exiting and requires the execution of its exit behavior.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event that triggered the vertex&#39;s exit.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">State</span><span class="p">):</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition_exit</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">vertex</span><span class="o">.</span><span class="n">outgoing</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_state_exit</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_pseudostate_exit</span><span class="p">(</span>
            <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">Pseudostate</span><span class="p">,</span> <span class="n">vertex</span><span class="p">),</span> <span class="n">event</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">vertex</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.exec_vertex_processing" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">exec_vertex_processing</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Asynchronously processes a given vertex in the state machine with respect to an incoming event.
This method iteratively examines all outgoing transitions from the provided vertex. It attempts to process each transition with the given event by invoking the exec_transition_processing method. The processing of transitions continues until either the processing of a transition results in a 'complete' state or all transitions have been processed without reaching a 'complete' state.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>vertex</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Vertex" href="../../../Core/Elements/#stateforward.core.elements.Vertex">Vertex</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The vertex to process which contains the outgoing transitions.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>event</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.core.Event" href="../../../Core/Elements/#stateforward.core.elements.Event">Event</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The event that triggered the processing of the vertex.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="stateforward.protocols.interpreter.InterpreterStep" href="../../../Protocols/Interpreter/#stateforward.protocols.interpreter.InterpreterStep">InterpreterStep</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An enum value indicating whether the processing of the vertex resulted in a 'complete' or 'incomplete' state. 'complete' is returned if any of the transitions reached completion, otherwise 'incomplete' is returned if all transitions were processed and none was completed.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">exec_vertex_processing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertex</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Vertex</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">core</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Asynchronously processes a given vertex in the state machine with respect to an incoming event.</span>
<span class="sd">    This method iteratively examines all outgoing transitions from the provided vertex. It attempts to process each transition with the given event by invoking the exec_transition_processing method. The processing of transitions continues until either the processing of a transition results in a &#39;complete&#39; state or all transitions have been processed without reaching a &#39;complete&#39; state.</span>

<span class="sd">    Args:</span>
<span class="sd">        vertex (core.Vertex):</span>
<span class="sd">             The vertex to process which contains the outgoing transitions.</span>
<span class="sd">        event (core.Event):</span>
<span class="sd">             The event that triggered the processing of the vertex.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (InterpreterStep):</span>
<span class="sd">             An enum value indicating whether the processing of the vertex resulted in a &#39;complete&#39; or &#39;incomplete&#39; state. &#39;complete&#39; is returned if any of the transitions reached completion, otherwise &#39;incomplete&#39; is returned if all transitions were processed and none was completed.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">vertex</span><span class="o">.</span><span class="n">outgoing</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_transition_processing</span><span class="p">(</span><span class="n">transition</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
            <span class="o">==</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">complete</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">complete</span>
    <span class="k">return</span> <span class="n">InterpreterStep</span><span class="o">.</span><span class="n">incomplete</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.run" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">run</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Async function to start and manage the execution of the state machine.
This method initiates the run process of the state machine by logging its execution and handling
its entry operations. It proceeds to call the <code>step</code> method to perform the state machine's
transitions. If an <code>asyncio.CancelledError</code> occurs, it logs that the state machine is stopping.
In the absence of exceptions, it delegates to the superclass's <code>run</code> method to continue the
running process.</p>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="asyncio.CancelledError">CancelledError</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the asynchronous task that called <code>run</code> is cancelled.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Async function to start and manage the execution of the state machine.</span>
<span class="sd">    This method initiates the run process of the state machine by logging its execution and handling</span>
<span class="sd">    its entry operations. It proceeds to call the `step` method to perform the state machine&#39;s</span>
<span class="sd">    transitions. If an `asyncio.CancelledError` occurs, it logs that the state machine is stopping.</span>
<span class="sd">    In the absence of exceptions, it delegates to the superclass&#39;s `run` method to continue the</span>
<span class="sd">    running process.</span>

<span class="sd">    Raises:</span>
<span class="sd">        asyncio.CancelledError:</span>
<span class="sd">             If the asynchronous task that called `run` is cancelled.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;running state machine &quot;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_state_machine_entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">EntryKind</span><span class="o">.</span><span class="n">default</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">CancelledError</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;stopping state machine &quot;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">qualified_name_of</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="p">)</span>
        <span class="k">return</span>
    <span class="k">return</span> <span class="k">await</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="stateforward.state_machine.interpreters.asynchronous.async_state_machine_interpreter.AsyncStateMachineInterpreter.terminate" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">terminate</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Asynchronously terminates the current object's operations by executing the state machine exit process and then calling the terminate method of the superclass.
This method performs two main actions in sequence. First, it calls 'exec_state_machine_exit' with the current model instance and 'None' as arguments to properly exit any state the object might be in. After that, it awaits the termination method of the superclass to ensure any additional superclass-specific termination procedures are carried out.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>This method does not return any value. Its purpose is to perform an asynchronous cleanup.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/state_machine/interpreters/asynchronous/async_state_machine_interpreter.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">terminate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Asynchronously terminates the current object&#39;s operations by executing the state machine exit process and then calling the terminate method of the superclass.</span>
<span class="sd">    This method performs two main actions in sequence. First, it calls &#39;exec_state_machine_exit&#39; with the current model instance and &#39;None&#39; as arguments to properly exit any state the object might be in. After that, it awaits the termination method of the superclass to ensure any additional superclass-specific termination procedures are carried out.</span>

<span class="sd">    Args:</span>
<span class="sd">        None</span>

<span class="sd">    Returns:</span>
<span class="sd">        (None):</span>
<span class="sd">             This method does not return any value. Its purpose is to perform an asynchronous cleanup.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Any exception raised by &#39;exec_state_machine_exit&#39; or the superclass termination method will propagate upwards, potentially to the invoker of this method.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">exec_state_machine_exit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">await</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.top", "navigation.indexes", "navigation.expand", "search.highlight", "search.suggest", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  </body>
</html>