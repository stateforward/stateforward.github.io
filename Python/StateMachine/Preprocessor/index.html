
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Overview/">
      
      
        <link rel="next" href="../Elements/Behavior/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>Preprocessor - StateForward</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="lime">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stateforward.state_machine.preprocessor" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="StateForward" class="md-header__button md-logo" aria-label="StateForward" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            StateForward
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Preprocessor
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="StateForward" class="md-nav__button md-logo" aria-label="StateForward" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    StateForward
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../../Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Roadmap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Roadmap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Examples/LightSwitch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LightSwitch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Examples/Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Examples/TrafficLight/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TrafficLight
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Modeling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Modeling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Modeling/Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4_2" >
        
          
          <label class="md-nav__link" for="__nav_2_4_2" id="__nav_2_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_2">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Modeling/API/Association/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Association
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Modeling/API/Collection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Modeling/API/Element/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Element
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Modeling/API/ElementInterface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ElementInterface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Modeling/API/Model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Modeling/API/Preprocessor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preprocessor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" checked>
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    StateMachine
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            StateMachine
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Preprocessor
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Preprocessor
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stateforward.state_machine.preprocessor" class="md-nav__link">
    preprocessor
  </a>
  
    <nav class="md-nav" aria-label="preprocessor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.preprocessor.StateMachinePreprocessor" class="md-nav__link">
    StateMachinePreprocessor
  </a>
  
    <nav class="md-nav" aria-label="StateMachinePreprocessor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.preprocessor.StateMachinePreprocessor.preprocess" class="md-nav__link">
    preprocess()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.preprocessor.StateMachinePreprocessor.preprocess_element" class="md-nav__link">
    preprocess_element()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.preprocessor.StateMachinePreprocessor.preprocess_owned_elements" class="md-nav__link">
    preprocess_owned_elements()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5_3" >
        
          
          <label class="md-nav__link" for="__nav_2_5_3" id="__nav_2_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Elements
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_3">
            <span class="md-nav__icon md-icon"></span>
            Elements
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Elements/Behavior/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Behavior
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Elements/CompositeState/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CompositeState
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Elements/Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Elements/StateMachine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    StateMachine
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5_4" >
        
          
          <label class="md-nav__link" for="__nav_2_5_4" id="__nav_2_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interpreters
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_4">
            <span class="md-nav__icon md-icon"></span>
            Interpreters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Interpreters/AsyncStateMachineInterpreter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AsyncStateMachineInterpreter
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stateforward.state_machine.preprocessor" class="md-nav__link">
    preprocessor
  </a>
  
    <nav class="md-nav" aria-label="preprocessor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.preprocessor.StateMachinePreprocessor" class="md-nav__link">
    StateMachinePreprocessor
  </a>
  
    <nav class="md-nav" aria-label="StateMachinePreprocessor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.preprocessor.StateMachinePreprocessor.preprocess" class="md-nav__link">
    preprocess()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.preprocessor.StateMachinePreprocessor.preprocess_element" class="md-nav__link">
    preprocess_element()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stateforward.state_machine.preprocessor.StateMachinePreprocessor.preprocess_owned_elements" class="md-nav__link">
    preprocess_owned_elements()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Preprocessor</h1>

<div class="doc doc-object doc-module">




<h2 id="stateforward.state_machine.preprocessor" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">preprocessor</span>


</h2>

  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h3 id="stateforward.state_machine.preprocessor.StateMachinePreprocessor" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">StateMachinePreprocessor</span>


</h3>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="stateforward.model.Preprocessor" href="../../Modeling/API/Preprocessor/#stateforward.model.preprocessor.Preprocessor">Preprocessor</a></code></p>

  
      <p>A preprocessor for state machines that ensures that various elements of the model are correctly processed.</p>
<p>This includes processing vertices, states, composite states, transitions, regions, and pseudostates to establish the correct relationships and properties necessary for the machine's operation. Additionally, it manages handling behavior activities, entry and exit points, and transition paths.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>preprocessed</code></td>
          <td>
                <code>set</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A set to keep track of already preprocessed elements to avoid re-processing.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>stateforward/state_machine/preprocessor.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">StateMachinePreprocessor</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">Preprocessor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A preprocessor for state machines that ensures that various elements of the model are correctly processed.</span>

<span class="sd">    This includes processing vertices, states, composite states, transitions, regions, and pseudostates to establish the correct relationships and properties necessary for the machine&#39;s operation. Additionally, it manages handling behavior activities, entry and exit points, and transition paths.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        preprocessed (set): A set to keep track of already preprocessed elements to avoid re-processing.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">preprocess_vertex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;elements.Vertex&quot;</span><span class="p">]):</span>
        <span class="n">container</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">find_ancestor</span><span class="p">(</span>
            <span class="n">element</span><span class="p">,</span>
            <span class="k">lambda</span> <span class="n">owned_element</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">owned_element</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">Region</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;container&quot;</span><span class="p">,</span> <span class="n">container</span><span class="p">)</span>

        <span class="n">outgoing</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">outgoing</span><span class="o">.</span><span class="n">elements</span><span class="p">())</span> <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">outgoing</span> <span class="k">else</span> <span class="p">[]</span>
        <span class="n">incoming</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">incoming</span><span class="o">.</span><span class="n">elements</span><span class="p">())</span> <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">incoming</span> <span class="k">else</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">find_descendants</span><span class="p">(</span>
            <span class="n">element</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="k">lambda</span> <span class="n">owned_element</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">owned_element</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">Transition</span><span class="p">),</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">transition</span><span class="o">.</span><span class="n">source</span> <span class="ow">or</span> <span class="n">transition</span><span class="o">.</span><span class="n">owner</span>
            <span class="p">)</span> <span class="o">==</span> <span class="n">element</span> <span class="ow">and</span> <span class="n">transition</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">outgoing</span><span class="p">:</span>
                <span class="n">outgoing</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">transition</span><span class="o">.</span><span class="n">target</span> <span class="o">==</span> <span class="n">element</span> <span class="ow">and</span> <span class="n">transition</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">incoming</span><span class="p">:</span>
                <span class="n">incoming</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">transition</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;outgoing&quot;</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="o">*</span><span class="n">outgoing</span><span class="p">))</span>
        <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;incoming&quot;</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="o">*</span><span class="n">incoming</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">preprocess_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;elements.State&quot;</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_composite_state</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_vertex</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">behavior</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;entry&quot;</span><span class="p">,</span> <span class="s2">&quot;exit&quot;</span><span class="p">,</span> <span class="s2">&quot;do_activity&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">behavior</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span>
                    <span class="n">element</span><span class="p">,</span>
                    <span class="n">behavior</span><span class="p">,</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">new_element</span><span class="p">(</span><span class="n">behavior</span><span class="p">,</span> <span class="n">bases</span><span class="o">=</span><span class="p">(</span><span class="n">elements</span><span class="o">.</span><span class="n">Behavior</span><span class="p">,)),</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">preprocess_composite_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;elements.CompositeState&quot;</span><span class="p">]):</span>
        <span class="n">transitions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">subvertex</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">regions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">owned_element</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">owned_elements</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">owned_element</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">Transition</span><span class="p">):</span>
                <span class="n">transitions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">owned_element</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">model</span><span class="o">.</span><span class="n">is_type</span><span class="p">(</span><span class="n">owned_element</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">Collection</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
                <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">_child</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">Transition</span><span class="p">)</span>
                <span class="ow">and</span> <span class="ow">not</span> <span class="n">model</span><span class="o">.</span><span class="n">is_association</span><span class="p">(</span><span class="n">_child</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">_child</span> <span class="ow">in</span> <span class="n">owned_element</span><span class="o">.</span><span class="n">owned_elements</span>
            <span class="p">):</span>
                <span class="n">transitions</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">remove_owned_elements</span><span class="p">(</span><span class="n">owned_element</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">owned_element</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">Vertex</span><span class="p">):</span>
                <span class="n">subvertex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">owned_element</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">owned_element</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">Region</span><span class="p">):</span>
                <span class="n">regions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">owned_element</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">subvertex</span><span class="p">:</span>
            <span class="n">new_region</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">new_element</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;region_</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">regions</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">bases</span><span class="o">=</span><span class="p">(</span><span class="n">elements</span><span class="o">.</span><span class="n">Region</span><span class="p">,),</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">owned_element</span> <span class="ow">in</span> <span class="n">subvertex</span> <span class="o">+</span> <span class="n">transitions</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">owned_element</span><span class="o">.</span><span class="n">owner</span><span class="p">:</span>
                    <span class="n">owned_element</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">remove_owned_element</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">owned_element</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">owned_element</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">new_region</span><span class="p">,</span> <span class="n">owned_element</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">owned_element</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">add_owned_element</span><span class="p">(</span><span class="n">new_region</span><span class="p">,</span> <span class="n">owned_element</span><span class="p">)</span>
            <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span>
                <span class="n">element</span><span class="p">,</span>
                <span class="s2">&quot;region&quot;</span><span class="p">,</span>
                <span class="n">model</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="n">new_region</span><span class="p">,</span> <span class="o">*</span><span class="n">regions</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">regions</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;region&quot;</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="o">*</span><span class="n">regions</span><span class="p">))</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;region&quot;</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">collection</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">create_transition_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transition</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;elements.Transition&quot;</span><span class="p">]):</span>
        <span class="n">enter</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">leave</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">transition</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">elements</span><span class="o">.</span><span class="n">TransitionKind</span><span class="o">.</span><span class="n">external</span><span class="p">:</span>
            <span class="n">leave</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ancestor</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">ancestors</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">source</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">ancestor</span><span class="o">.</span><span class="n">qualified_name</span> <span class="o">==</span> <span class="n">transition</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">qualified_name</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">leave</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ancestor</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ancestor</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">ancestors</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">target</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">ancestor</span><span class="o">.</span><span class="n">qualified_name</span> <span class="o">==</span> <span class="n">transition</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">qualified_name</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">enter</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ancestor</span><span class="p">)</span>
            <span class="n">enter</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">transition</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">elements</span><span class="o">.</span><span class="n">TransitionKind</span><span class="o">.</span><span class="n">local</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ancestor</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">ancestors</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">source</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">ancestor</span><span class="o">.</span><span class="n">qualified_name</span> <span class="o">==</span> <span class="n">transition</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">qualified_name</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">enter</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ancestor</span><span class="p">)</span>
            <span class="n">enter</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">transition</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">elements</span><span class="o">.</span><span class="n">TransitionKind</span><span class="o">.</span><span class="n">self</span><span class="p">:</span>
            <span class="n">leave</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
            <span class="n">enter</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">new_element</span><span class="p">(</span>
            <span class="s2">&quot;path&quot;</span><span class="p">,</span>
            <span class="n">bases</span><span class="o">=</span><span class="p">(</span><span class="n">elements</span><span class="o">.</span><span class="n">TransitionPath</span><span class="p">,),</span>
            <span class="n">enter</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="o">*</span><span class="n">enter</span><span class="p">),</span>
            <span class="n">leave</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="o">*</span><span class="n">leave</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">preprocess_final_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;elements.FinalState&quot;</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_vertex</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">preprocess_transition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;elements.Transition&quot;</span><span class="p">]):</span>
        <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">source</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">Vertex</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;transition </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2"> has no source and is not owned by a state&quot;</span>
                <span class="p">)</span>
            <span class="c1"># transition source always defaults to the parent</span>
            <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;source&quot;</span><span class="p">,</span> <span class="n">element</span><span class="o">.</span><span class="n">owner</span><span class="p">)</span>

        <span class="c1"># yield from self.wait_for_completion_of(element.source)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_element</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">events</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">State</span><span class="p">):</span>
                <span class="n">completion</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">completion</span>
                <span class="k">if</span> <span class="n">completion</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">completion</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">new_element</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;completion&quot;</span><span class="p">,</span>
                        <span class="p">(</span><span class="n">elements</span><span class="o">.</span><span class="n">CompletionEvent</span><span class="p">,),</span>
                    <span class="p">)</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="s2">&quot;completion&quot;</span><span class="p">,</span> <span class="n">completion</span><span class="p">)</span>

                <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span>
                    <span class="n">element</span><span class="p">,</span>
                    <span class="s2">&quot;events&quot;</span><span class="p">,</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span>
                        <span class="n">completion</span><span class="p">,</span>
                    <span class="p">),</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">effect</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span>
                <span class="n">element</span><span class="p">,</span>
                <span class="s2">&quot;effect&quot;</span><span class="p">,</span>
                <span class="n">model</span><span class="o">.</span><span class="n">new_element</span><span class="p">(</span>
                    <span class="s2">&quot;effect&quot;</span><span class="p">,</span>
                    <span class="p">(</span><span class="n">elements</span><span class="o">.</span><span class="n">Behavior</span><span class="p">,),</span>
                    <span class="n">activity</span><span class="o">=</span><span class="n">no_async_activity</span>
                    <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">concurrency_kind</span>
                    <span class="ow">is</span> <span class="n">elements</span><span class="o">.</span><span class="n">ConcurrencyKind</span><span class="o">.</span><span class="n">asynchronous</span>
                    <span class="k">else</span> <span class="n">no_activity</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>
        <span class="n">container</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">container</span>
        <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">source</span> <span class="o">==</span> <span class="n">element</span><span class="o">.</span><span class="n">target</span><span class="p">:</span>
            <span class="n">element</span><span class="o">.</span><span class="n">kind</span> <span class="o">=</span> <span class="n">elements</span><span class="o">.</span><span class="n">TransitionKind</span><span class="o">.</span><span class="n">self</span>
        <span class="k">elif</span> <span class="n">element</span><span class="o">.</span><span class="n">target</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">element</span><span class="o">.</span><span class="n">kind</span> <span class="o">=</span> <span class="n">elements</span><span class="o">.</span><span class="n">TransitionKind</span><span class="o">.</span><span class="n">internal</span>
        <span class="k">elif</span> <span class="n">model</span><span class="o">.</span><span class="n">has_descendant</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">element</span><span class="o">.</span><span class="n">target</span><span class="p">):</span>
            <span class="n">element</span><span class="o">.</span><span class="n">kind</span> <span class="o">=</span> <span class="n">elements</span><span class="o">.</span><span class="n">TransitionKind</span><span class="o">.</span><span class="n">local</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_element</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
            <span class="n">element</span><span class="o">.</span><span class="n">kind</span> <span class="o">=</span> <span class="n">elements</span><span class="o">.</span><span class="n">TransitionKind</span><span class="o">.</span><span class="n">external</span>
            <span class="n">container</span> <span class="o">=</span> <span class="n">least_common_ancestor</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">element</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">container</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;transition </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2"> has no container&quot;</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;container&quot;</span><span class="p">,</span> <span class="n">container</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_transition_path</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">preprocess_region</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;elements.Region&quot;</span><span class="p">]):</span>
        <span class="kn">from</span> <span class="nn">stateforward.elements</span> <span class="kn">import</span> <span class="n">StateMachine</span>

        <span class="k">def</span> <span class="nf">initial_filter</span><span class="p">(</span><span class="n">vertex</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">Initial</span><span class="p">)</span>

        <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span>
            <span class="n">element</span><span class="p">,</span>
            <span class="s2">&quot;subvertex&quot;</span><span class="p">,</span>
            <span class="n">model</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span>
                <span class="o">*</span><span class="n">model</span><span class="o">.</span><span class="n">find_owned_elements</span><span class="p">(</span>
                    <span class="n">element</span><span class="p">,</span>
                    <span class="k">lambda</span> <span class="n">owned_element</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span>
                        <span class="n">owned_element</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">Vertex</span>
                    <span class="p">),</span>
                <span class="p">)</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="n">initial</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;initial&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">initial</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">initial</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">find_owned_element</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">initial_filter</span><span class="p">)</span>
            <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;initial&quot;</span><span class="p">,</span> <span class="n">initial</span><span class="p">)</span>

        <span class="n">parent</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">owner</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="p">(</span><span class="n">StateMachine</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">State</span><span class="p">)):</span>
            <span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">owner</span>
        <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span>
            <span class="n">element</span><span class="p">,</span>
            <span class="s2">&quot;state&quot;</span><span class="p">,</span>
            <span class="n">parent</span> <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">State</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span>
            <span class="n">element</span><span class="p">,</span>
            <span class="s2">&quot;state_machine&quot;</span><span class="p">,</span>
            <span class="n">parent</span> <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">StateMachine</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">preprocess_processor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;model.Interpreter&quot;</span><span class="p">]):</span>
        <span class="n">concurrency_kind</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">concurrency_kind</span>
        <span class="k">if</span> <span class="n">concurrency_kind</span> <span class="o">==</span> <span class="n">elements</span><span class="o">.</span><span class="n">ConcurrencyKind</span><span class="o">.</span><span class="n">asynchronous</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;queue&quot;</span><span class="p">,</span> <span class="n">AsyncQueue</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">preprocess_pseudostate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;elements.Pseudostate&quot;</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_vertex</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">elements</span><span class="o">.</span><span class="n">PseudostateKind</span><span class="o">.</span><span class="n">choice</span><span class="p">:</span>
            <span class="n">last_transition</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">owned_elements</span><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">last_transition</span><span class="o">.</span><span class="n">guard</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;choice psuedostate </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2"> has a guard on the last transition&quot;</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="n">element</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">elements</span><span class="o">.</span><span class="n">PseudostateKind</span><span class="o">.</span><span class="n">initial</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">element</span><span class="o">.</span><span class="n">outgoing</span><span class="o">.</span><span class="n">length</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;initial psuedostate </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2"> has no outgoing transitions&quot;</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">element</span><span class="o">.</span><span class="n">incoming</span><span class="o">.</span><span class="n">length</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;initial psuedostate </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2"> has incoming transitions&quot;</span>
                <span class="p">)</span>
            <span class="n">outgoing</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">outgoing</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">outgoing</span><span class="o">.</span><span class="n">guard</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;initial psuedostate </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2"> has a guard on the outgoing transition&quot;</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="n">element</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">elements</span><span class="o">.</span><span class="n">PseudostateKind</span><span class="o">.</span><span class="n">join</span><span class="p">:</span>
            <span class="n">containers</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">transition</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">incoming</span><span class="o">.</span><span class="n">elements</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">transition</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">type</span> <span class="ow">in</span> <span class="n">containers</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;All </span><span class="si">{</span><span class="nb">tuple</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">qualified_name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">element</span><span class="o">.</span><span class="n">incoming</span><span class="o">.</span><span class="n">elements</span><span class="p">())</span><span class="si">}</span><span class="s2"> incoming a join elements.Vertex (</span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2">) must originate in different Regions&quot;</span>
                    <span class="p">)</span>
                <span class="n">containers</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">transition</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">preprocess_call_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;elements.CallEvent&quot;</span><span class="p">]):</span>
        <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation</span><span class="o">.</span><span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="nb">setattr</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;__call__&quot;</span><span class="p">,</span> <span class="fm">__call__</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">preprocess_change_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">elements</span><span class="o">.</span><span class="n">ChangeEvent</span><span class="p">]):</span>
        <span class="n">element</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Condition</span>

    <span class="k">def</span> <span class="nf">preprocess_behavior</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;elements.Behavior&quot;</span><span class="p">]):</span>
        <span class="n">concurrency_kind</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">concurrency_kind</span>
        <span class="n">activity</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">activity</span>
        <span class="k">if</span> <span class="n">activity</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">concurrency_kind</span> <span class="o">==</span> <span class="n">elements</span><span class="o">.</span><span class="n">ConcurrencyKind</span><span class="o">.</span><span class="n">asynchronous</span><span class="p">:</span>
                <span class="n">activity</span> <span class="o">=</span> <span class="n">no_async_activity</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">activity</span> <span class="o">=</span> <span class="n">no_activity</span>
        <span class="k">elif</span> <span class="p">(</span>
            <span class="n">concurrency_kind</span> <span class="o">==</span> <span class="n">elements</span><span class="o">.</span><span class="n">ConcurrencyKind</span><span class="o">.</span><span class="n">asynchronous</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">iscoroutinefunction</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">activity</span><span class="p">)</span>
        <span class="p">):</span>

            <span class="k">def</span> <span class="nf">activity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="s2">&quot;elements.Event&quot;</span><span class="p">,</span> <span class="n">_activity</span><span class="o">=</span><span class="n">element</span><span class="o">.</span><span class="n">activity</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">_activity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>

        <span class="n">activity</span><span class="o">.</span><span class="vm">__module__</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="vm">__module__</span>
        <span class="n">activity</span><span class="o">.</span><span class="vm">__qualname__</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2">.activity&quot;</span>
        <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;activity&quot;</span><span class="p">,</span> <span class="n">activity</span><span class="p">)</span>
        <span class="n">context</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">find_ancestor</span><span class="p">(</span>
            <span class="n">element</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">ancestor</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">ancestor</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">Behavior</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_owned_elements</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>

        <span class="n">events</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">descendant</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">all_owned_elements</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">descendant</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
                <span class="n">events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">descendant</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;pool&quot;</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="o">*</span><span class="n">events</span><span class="p">))</span>

        <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span>
            <span class="n">element</span><span class="p">,</span>
            <span class="s2">&quot;context&quot;</span><span class="p">,</span>
            <span class="n">context</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">preprocess_state_machine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="s2">&quot;elements.Behavior&quot;</span><span class="p">]):</span>
        <span class="kn">from</span> <span class="nn">stateforward.state_machine.interpreters.asynchronous</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">AsyncStateMachineInterpreter</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_composite_state</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;state machine </span><span class="si">{</span><span class="n">element</span><span class="o">.</span><span class="n">qualified_name</span><span class="si">}</span><span class="s2"> has no regions&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_behavior</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">sort_collection</span><span class="p">(</span>
            <span class="n">element</span><span class="o">.</span><span class="n">pool</span><span class="p">,</span>
            <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="ow">not</span> <span class="n">model</span><span class="o">.</span><span class="n">is_subtype</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">elements</span><span class="o">.</span><span class="n">CompletionEvent</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">concurrency_kind</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span>
                <span class="n">element</span><span class="p">,</span>
                <span class="s2">&quot;interpreter&quot;</span><span class="p">,</span>
                <span class="n">model</span><span class="o">.</span><span class="n">new_element</span><span class="p">(</span><span class="s2">&quot;interpreter&quot;</span><span class="p">,</span> <span class="n">bases</span><span class="o">=</span><span class="p">(</span><span class="n">AsyncStateMachineInterpreter</span><span class="p">,)),</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h4 id="stateforward.state_machine.preprocessor.StateMachinePreprocessor.preprocess" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">preprocess</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">preprocess</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">Model</span><span class="p">])</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Preprocesses a StateMachine model or its subtypes, ensuring various consistency
checks and setting up certain derived attributes that require calculation before
the model is used.</p>
<p>Recursively traverses the entire model structure, invoking preprocess_*
methods tailored for different kinds of elements within the model. If a specific
element type has a dedicated preprocess method (e.g., preprocess_state for a
State element), that method is called; otherwise, general processing is applied.</p>
<p>This function is the entry point for preprocessing when a model needs to be prepared,
so it should be called before the model is ready for activities like validation,
simulation or code generation.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="stateforward.model.model.Model" href="../../Modeling/API/Model/#stateforward.model.Model">Model</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A class derived from Model which is the root or a
subset of the StateMachine model to be preprocessed.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/preprocessor.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">preprocess</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">Model</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Preprocesses a StateMachine model or its subtypes, ensuring various consistency</span>
<span class="sd">    checks and setting up certain derived attributes that require calculation before</span>
<span class="sd">    the model is used.</span>

<span class="sd">    Recursively traverses the entire model structure, invoking preprocess_*</span>
<span class="sd">    methods tailored for different kinds of elements within the model. If a specific</span>
<span class="sd">    element type has a dedicated preprocess method (e.g., preprocess_state for a</span>
<span class="sd">    State element), that method is called; otherwise, general processing is applied.</span>

<span class="sd">    This function is the entry point for preprocessing when a model needs to be prepared,</span>
<span class="sd">    so it should be called before the model is ready for activities like validation,</span>
<span class="sd">    simulation or code generation.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (Type[Model]): A class derived from Model which is the root or a</span>
<span class="sd">            subset of the StateMachine model to be preprocessed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_element</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="stateforward.state_machine.preprocessor.StateMachinePreprocessor.preprocess_element" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">preprocess_element</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">preprocess_element</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">Element</span><span class="p">])</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Process a single element, applying preprocessing logic based on its type.</p>
<p>This method iterates through the MRO (Method Resolution Order) of the provided
element class and applies specific preprocessing logic for the first matching base
class found in the class hierarchy. This is achieved by calling the corresponding
method named 'preprocess_{element_class_name_in_snake_case}'. If no specific
preprocessing method is found, owned elements of the class are preprocessed.</p>
<p>Parameters:
- element (Type[Element]): The element class to be preprocessed.</p>
<p>Returns:
None</p>

          <details class="quote">
            <summary>Source code in <code>stateforward/model/preprocessor.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">preprocess_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">Element</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Process a single element, applying preprocessing logic based on its type.</span>

<span class="sd">    This method iterates through the MRO (Method Resolution Order) of the provided</span>
<span class="sd">    element class and applies specific preprocessing logic for the first matching base</span>
<span class="sd">    class found in the class hierarchy. This is achieved by calling the corresponding</span>
<span class="sd">    method named &#39;preprocess_{element_class_name_in_snake_case}&#39;. If no specific</span>
<span class="sd">    preprocessing method is found, owned elements of the class are preprocessed.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    - element (Type[Element]): The element class to be preprocessed.</span>

<span class="sd">    Returns:</span>
<span class="sd">    None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="ow">not</span> <span class="n">model</span><span class="o">.</span><span class="n">is_redefined</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">qualified_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">preprocessed</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocessed</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">qualified_name</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="vm">__mro__</span><span class="p">:</span>
            <span class="n">method</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;preprocess_</span><span class="si">{</span><span class="n">TITLE_CASE_PATTERN</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">UNDERSCORE_REPLACE_PATTERN</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="kc">None</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_element</span><span class="p">):</span>
                <span class="n">method</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_owned_elements</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="stateforward.state_machine.preprocessor.StateMachinePreprocessor.preprocess_owned_elements" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">preprocess_owned_elements</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">preprocess_owned_elements</span><span class="p">(</span><span class="n">element</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">Element</span><span class="p">])</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Preprocesses all owned elements of the given element by recursively applying
the preprocessor method for each owned element.</p>
<p>Each owned element's specific preprocessing method is invoked based on its type
hierarchy. This method iterates over all of the owned elements and processes
them accordingly.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>element</code></td>
          <td>
                <code><span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="stateforward.model.element.Element" href="../../Modeling/API/Element/#stateforward.model.Element">Element</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The element whose owned elements should be preprocessed.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If an owned element's type or processing conditions are invalid,
        a ValueError may be raised from the specific preprocessing method.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

<details class="note" open>
  <summary>Note</summary>
  <p>This method is an integral part of the preprocessing step of the elements and
is usually called within the context of the preprocessor's lifecycle.
It should be used with caution as elements could be dynamically modified
during the preprocessing.</p>
</details>
          <details class="quote">
            <summary>Source code in <code>stateforward/model/preprocessor.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">preprocess_owned_elements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">Element</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Preprocesses all owned elements of the given element by recursively applying</span>
<span class="sd">    the preprocessor method for each owned element.</span>

<span class="sd">    Each owned element&#39;s specific preprocessing method is invoked based on its type</span>
<span class="sd">    hierarchy. This method iterates over all of the owned elements and processes</span>
<span class="sd">    them accordingly.</span>

<span class="sd">    Args:</span>
<span class="sd">        element (Type[Element]): The element whose owned elements should be preprocessed.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If an owned element&#39;s type or processing conditions are invalid,</span>
<span class="sd">                    a ValueError may be raised from the specific preprocessing method.</span>

<span class="sd">    Note:</span>
<span class="sd">        This method is an integral part of the preprocessing step of the elements and</span>
<span class="sd">        is usually called within the context of the preprocessor&#39;s lifecycle.</span>
<span class="sd">        It should be used with caution as elements could be dynamically modified</span>
<span class="sd">        during the preprocessing.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">owned_element</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">owned_elements</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_element</span><span class="p">(</span><span class="n">owned_element</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.top", "navigation.indexes", "navigation.expand", "search.highlight", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  </body>
</html>